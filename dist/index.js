!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define("Stories",["React"],t):"object"==typeof exports?exports.Stories=t(require("react")):e.Stories=t(e.React)}(this,(function(e){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=7)}([function(t,r){t.exports=e},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.initialContext=void 0;var o=n(r(0));t.initialContext={defaultInterval:4e3,width:360,height:640};var i=o.default.createContext(t.initialContext);t.default=i},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.initialContext=void 0;var o=n(r(0));t.initialContext={stories:[]};var i=o.default.createContext(t.initialContext);t.default=i},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(0));t.default=o.default.createContext({currentId:0,videoDuration:0,bufferAction:!1,pause:!1,next:function(){}})},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(r(0)),a=o(r(17));t.default=function(e){var t=e.story,r=e.globalHeader,o=e.children;return i.default.createElement(i.default.Fragment,null,o,t.header&&i.default.createElement("div",{style:{position:"absolute",left:12,top:20,zIndex:19}},"object"===n(t)?r?r(t.header):i.default.createElement(a.default,{heading:t.header.heading,subheading:t.header.subheading,profileImage:t.header.profileImage}):null))}},function(e,t,r){"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&i(t,e,r);return a(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=u(r(0)),f=l(r(18));t.default=function(e){var t=e.story,r=e.action,o=e.customCollapsed,i=e.children,a=n(c.useState(!1),2),u=a[0],l=a[1],s=f.default;return c.default.createElement(c.default.Fragment,null,i,t.seeMore&&c.default.createElement("div",{style:{position:"absolute",margin:"auto",bottom:u?"unset":0,zIndex:9999,width:"100%",height:u?"100%":"auto"}},c.default.createElement(s,{action:r,toggleMore:function(e){r(e?"pause":"play"),l(e)},showContent:u,seeMoreContent:t.seeMore,customCollapsed:o||t.seeMoreCollapsed})))}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(0)),i=n(r(16));t.default=function(){return o.default.createElement(i.default,null)}},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var a=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),u=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&a(t,e,r);return u(t,e),t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WithSeeMore=t.WithHeader=void 0;var f=l(r(0)),s=c(r(8)),d=c(r(1)),y=c(r(2)),p=r(13),h=r(14),m=c(r(4)),v=c(r(5)),b=function(e){var t=e.renderers?e.renderers.concat(h.renderers):h.renderers,r={width:e.width,height:e.height,loader:e.loader,header:e.header,storyContainerStyles:e.storyContainerStyles,storyStyles:e.storyStyles,loop:e.loop,defaultInterval:e.defaultInterval,isPaused:e.isPaused,currentIndex:e.currentIndex,onStoryStart:e.onStoryStart,onStoryEnd:e.onStoryEnd,onAllStoriesEnd:e.onAllStoriesEnd,keyboardNavigation:e.keyboardNavigation,preventDefault:e.preventDefault},n=o(f.useState({stories:g(e.stories,t)}),2),i=n[0],a=n[1];return f.useEffect((function(){a({stories:g(e.stories,t)})}),[e.stories,e.renderers]),f.default.createElement(d.default.Provider,{value:r},f.default.createElement(y.default.Provider,{value:i},f.default.createElement(s.default,null)))},g=function(e,t){return e.map((function(e){var r={};"string"==typeof e?(r.url=e,r.type="image"):"object"===n(e)&&(r=Object.assign(r,e));var o=p.getRenderer(r,t);return r.originalContent=r.content,r.content=o,r}))};b.defaultProps={width:360,height:640,defaultInterval:4e3},t.WithHeader=m.default,t.WithSeeMore=v.default,t.default=b},function(e,t,r){"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&i(t,e,r);return a(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=u(r(0)),f=l(r(1)),s=l(r(2)),d=l(r(3)),y=l(r(9)),p=l(r(10));t.default=function(){var e=n(c.useState(0),2),t=e[0],r=e[1],o=n(c.useState(!0),2),i=o[0],a=o[1],u=n(c.useState(!0),2),l=u[0],m=u[1],v=n(c.useState(0),2),b=v[0],g=v[1],_=c.useRef(),O=c.useRef(!0),j=c.useContext(f.default),w=j.width,S=j.height,x=j.loop,M=j.currentIndex,E=j.isPaused,P=j.keyboardNavigation,A=j.preventDefault,C=j.storyContainerStyles,I=void 0===C?{}:C,D=j.onAllStoriesEnd,k=c.useContext(s.default).stories;c.useEffect((function(){"number"==typeof M&&(M>=0&&M<k.length?z((function(){return M})):console.error("Index out of bounds. Current index was set to value more than the length of stories array.",M))}),[M]),c.useEffect((function(){"boolean"==typeof E&&a(E)}),[E]),c.useEffect((function(){if("undefined"!=typeof window&&window.document&&"boolean"==typeof P&&P)return document.addEventListener("keydown",T),function(){document.removeEventListener("keydown",T)}}),[P]),c.useEffect((function(){return function(){O.current=!1}}),[]);var T=function(e){"ArrowLeft"===e.key?B():"ArrowRight"===e.key&&W()},R=function(e,t){a("pause"===e),m(!!t)},z=function(e){r(e),R("pause",!0)},B=function(){var e=0===t;console.log(e,t),z((function(e){return e>0?e-1:e}))},W=function(){O.current&&(x?U():N())},U=function(){z((function(e){return(e+1)%k.length}))},N=function(){z((function(e){return e<k.length-1?e+1:(D&&D(t,k),e)}))},H=function(e){e.preventDefault(),_.current=setTimeout((function(){R("pause")}),200)},V=function(e){return function(t){t.preventDefault(),_.current&&clearTimeout(_.current),i?R("play"):"next"===e?W():B()}};return c.default.createElement("div",{style:Object.assign(Object.assign(Object.assign({},h.container),I),{width:w,height:S})},c.default.createElement(d.default.Provider,{value:{bufferAction:l,videoDuration:b,currentId:t,pause:i,next:W}},c.default.createElement(p.default,null)),c.default.createElement(y.default,{action:R,bufferAction:l,playState:i,story:k[t],getVideoDuration:function(e){g(1e3*e)}}),!A&&c.default.createElement("div",{style:h.overlay},c.default.createElement("div",{className:"previous-story-button",style:{width:"50%",zIndex:999},onTouchStart:H,onTouchEnd:V("previous"),onMouseDown:H,onMouseUp:V("previous")}),c.default.createElement("div",{className:"next-story-button",style:{width:"50%",zIndex:999},onTouchStart:H,onTouchEnd:V("next"),onMouseDown:H,onMouseUp:V("next")})))};var h={container:{display:"flex",flexDirection:"column",background:"#111",position:"relative"},overlay:{position:"absolute",height:"inherit",width:"inherit",display:"flex"}}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=i(r(0)),l=a(r(1)),c={story:{display:"flex",position:"relative",overflow:"hidden",alignItems:"center"},storyContent:{width:"auto",maxWidth:"100%",maxHeight:"100%",margin:"auto"}};t.default=function(e){var t,r,n=u.useContext(l.default),o=n.width,i=n.height,a=n.loader,f=n.header,s=n.storyStyles,d=function(t,r){switch(t){case"UPDATE_VIDEO_DURATION":return e.getVideoDuration(r.duration),{ack:"OK"}}};return u.default.createElement("div",{style:Object.assign(Object.assign({},c.story),{width:o,height:i})},(t=e.story.content,r={width:o,height:i,loader:a,header:f,storyStyles:s},u.default.createElement(t,{action:e.action,isPaused:e.playState,story:e.story,config:r,messageHandler:d})))}},function(e,t,r){"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&i(t,e,r);return a(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=u(r(0)),f=l(r(11)),s=l(r(3)),d=l(r(1)),y=l(r(2));t.default=function(){var e=n(c.useState(0),2),t=e[0],r=e[1],o=c.useContext(s.default),i=o.currentId,a=o.next,u=o.videoDuration,l=o.pause,h=c.useContext(d.default),m=h.defaultInterval,v=h.onStoryEnd,b=h.onStoryStart,g=h.onAllStoriesEnd,_=c.useContext(y.default).stories;c.useEffect((function(){r(0)}),[i,_]),c.useEffect((function(){return l||(O.current=requestAnimationFrame(w)),function(){cancelAnimationFrame(O.current)}}),[i,l]);var O=c.useRef(),j=t,w=function e(){0===j&&S(),r((function(e){var t=E();return j=e+100/(t/1e3*60),e+100/(t/1e3*60)})),j<100?O.current=requestAnimationFrame(e):(x(),i===_.length-1&&M(),cancelAnimationFrame(O.current),a())},S=function(){b&&b(i,_[i])},x=function(){v&&v(i,_[i])},M=function(){g&&g(i,_)},E=function(){return"video"===_[i].type?u:"number"==typeof _[i].duration?_[i].duration:m};return c.default.createElement("div",{style:p.progressArr},_.map((function(e,r){return c.default.createElement(f.default,{key:r,count:t,width:1/_.length,active:r===i?1:r<i?2:0})})))};var p={progressArr:{display:"flex",justifyContent:"center",maxWidth:"100%",flexWrap:"row",position:"absolute",width:"98%",padding:5,paddingTop:7,alignSelf:"center",zIndex:1001,filter:"drop-shadow(0 1px 8px #222)"}}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=i(r(0)),l=a(r(12)),c=a(r(3));t.default=function(e){var t=u.useContext(c.default),r=t.bufferAction,n=t.pause,o=e.width,i=e.active;return u.default.createElement(l.default,{width:o,pause:n,bufferAction:r},u.default.createElement("div",{style:Object.assign(Object.assign({},function(t){switch(t.active){case 2:return{width:"100%"};case 1:return{transform:"scaleX(".concat(e.count/100,")")};case 0:default:return{width:0}}}({active:i})),f.inner)}))};var f={inner:{background:"#fff",height:"100%",maxWidth:"100%",borderRadius:2,transformOrigin:"center left",WebkitBackfaceVisibility:"hidden",MozBackfaceVisibility:"hidden",msBackfaceVisibility:"hidden",backfaceVisibility:"hidden",WebkitPerspective:1e3,MozPerspective:1e3,msPerspective:1e3,perspective:1e3}}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(0)),i=function(e){var t=e.width,r=e.pause,n=e.bufferAction;return{width:"".concat(100*t,"%"),opacity:r&&!n?0:1}},a={progress:{height:2,maxWidth:"100%",background:"#555",margin:2,borderRadius:2,transition:"opacity 400ms ease-in-out"}};t.default=function(e){return o.default.createElement("div",{style:Object.assign(Object.assign({},a.progress),i(e))},e.children)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRenderer=void 0,t.getRenderer=function(e,t){var r=t.map((function(t){return Object.assign(Object.assign({},t),{testerResult:t.tester(e)})})).filter((function(e){return e.testerResult.condition}));return r.sort((function(e,t){return t.testerResult.priority-e.testerResult.priority})),r[0].renderer}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.renderers=void 0;var o=n(r(15)),i=n(r(19)),a=n(r(20)),u=n(r(21));t.renderers=[o.default,i.default,u.default,a.default]},function(e,t,r){"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&i(t,e,r);return a(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.tester=t.renderer=void 0;var c=u(r(0)),f=l(r(6)),s=l(r(4)),d=l(r(5));t.renderer=function(e){var t=e.story,r=e.action,o=(e.isPaused,e.config),i=n(c.useState(!1),2),a=i[0],u=i[1],l=o.width,p=o.height,h=o.loader,m=o.storyStyles,v=Object.assign(Object.assign({},y.storyContent),m||{});return c.createElement(s.default,{story:t,globalHeader:o.header},c.createElement(d.default,{story:t,action:r},c.createElement("div",null,c.createElement("img",{style:v,src:t.url,onLoad:function(){u(!0),r("play")}}),!a&&c.createElement("div",{style:{width:l,height:p,position:"absolute",left:0,top:0,background:"rgba(0, 0, 0, 0.9)",zIndex:9,display:"flex",justifyContent:"center",alignItems:"center",color:"#ccc"}},h||c.createElement(f.default,null)))))};var y={story:{display:"flex",position:"relative",overflow:"hidden"},storyContent:{width:"auto",maxWidth:"100%",maxHeight:"100%",margin:"auto"}};t.tester=function(e){return{condition:!(e.content||e.type&&"image"!==e.type),priority:2}},t.default={renderer:t.renderer,tester:t.tester}},function(e,t,r){"use strict";r.r(t);var n=r(0),o=r.n(n),i=["styles"];function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function u(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}t.default=function(e){e.styles;var t=u(e,i);return o.a.createElement("svg",a({width:"44",height:"44",xmlns:"http://www.w3.org/2000/svg",stroke:"#fff"},t),o.a.createElement("g",{fill:"none",fillRule:"evenodd",strokeWidth:"2"},o.a.createElement("circle",{cx:"22",cy:"22",r:"1"},o.a.createElement("animate",{attributeName:"r",begin:"0s",dur:"1.8s",values:"1; 20",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.165, 0.84, 0.44, 1",repeatCount:"indefinite"}),o.a.createElement("animate",{attributeName:"stroke-opacity",begin:"0s",dur:"1.8s",values:"1; 0",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.3, 0.61, 0.355, 1",repeatCount:"indefinite"})),o.a.createElement("circle",{cx:"22",cy:"22",r:"1"},o.a.createElement("animate",{attributeName:"r",begin:"-0.9s",dur:"1.8s",values:"1; 20",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.165, 0.84, 0.44, 1",repeatCount:"indefinite"}),o.a.createElement("animate",{attributeName:"stroke-opacity",begin:"-0.9s",dur:"1.8s",values:"1; 0",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.3, 0.61, 0.355, 1",repeatCount:"indefinite"}))))}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(0)),i={main:{display:"flex",alignItems:"center"},img:{width:40,height:40,borderRadius:40,marginRight:10,filter:"drop-shadow(0 0px 2px rgba(0, 0, 0, 0.5))",border:"2px solid rgba(255, 255, 255, 0.8)"},text:{display:"flex",flexDirection:"column",filter:"drop-shadow(0 0px 3px rgba(0, 0, 0, 0.9))"},heading:{fontSize:"1rem",color:"rgba(255, 255, 255, 0.9)",margin:0,marginBottom:2},subheading:{fontSize:"0.6rem",color:"rgba(255, 255, 255, 0.8)",margin:0}};t.default=function(e){var t=e.profileImage,r=e.heading,n=e.subheading;return o.default.createElement("div",{style:i.main},t&&o.default.createElement("img",{style:i.img,src:t}),o.default.createElement("span",{style:i.text},o.default.createElement("p",{style:i.heading},r),o.default.createElement("p",{style:i.subheading},n)))}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=i(r(0)),l=a(r(1));t.default=function(e){var t=e.seeMoreContent,r=e.customCollapsed,n=u.useContext(l.default).keyboardNavigation;u.useEffect((function(){if("undefined"!=typeof window&&window.document&&"boolean"==typeof n&&n)return document.addEventListener("keydown",o),function(){document.removeEventListener("keydown",o)}}),[n]);var o=function(t){"ArrowUp"===t.key?(t.preventDefault(),e.toggleMore(!0)):"ArrowDown"!==t.key&&"Escape"!==t.key||(t.preventDefault(),e.toggleMore(!1))};return e.showContent?u.default.createElement("div",{style:c.seeMoreExpanded},u.default.createElement(t,{close:function(){return e.toggleMore(!1)}})):r?u.default.createElement(r,{action:e.action,toggleMore:e.toggleMore}):u.default.createElement("div",{style:c.seeMore,onClick:function(t){t.preventDefault(),t.stopPropagation(),e.toggleMore(!0)}},u.default.createElement("span",{style:c.seeMoreIcon},"âŒƒ"),u.default.createElement("span",{style:c.seeMoreText},"See more"))};var c={seeMore:{height:"10vh",background:"linear-gradient(rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.2))",display:"flex",flexDirection:"column",width:"100%",alignItems:"center",justifyContent:"flex-end",bottom:0},seeMoreExpanded:{position:"absolute",top:0,left:0,width:"100%",height:"100%",boxSizing:"border-box",zIndex:99999},seeMoreText:{color:"white",textAlign:"center",letterSpacing:"0.1em",marginBottom:"2.2vh",textTransform:"capitalize",opacity:"1",fontSize:"0.8em",transition:"opacity 300ms ease-in-out"},seeMoreIcon:{color:"white",textAlign:"center",letterSpacing:"0.2em",marginBottom:"0.4vh",opacity:"1",filter:"drop-shadow(0 0 5px black)",textTransform:"capitalize",transition:"opacity 300ms ease-in-out"},seeMoreClose:{position:"absolute",filter:"drop-shadow(0 3px 2px #ccc)",right:"0.5rem",top:"0.5rem",fontSize:"1.5rem",opacity:"0.7",padding:"1rem"}}},function(e,t,r){"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&i(t,e,r);return a(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.tester=t.renderer=void 0;var c=u(r(0)),f=l(r(6)),s=l(r(4)),d=l(r(5));t.renderer=function(e){var t=e.story,r=e.action,o=e.isPaused,i=e.config,a=e.messageHandler,u=n(c.useState(!1),2),l=u[0],p=u[1],h=n(c.useState(!1),2),m=h[0],v=h[1],b=i.width,g=i.height,_=i.loader,O=i.storyStyles,j=Object.assign(Object.assign({},y.storyContent),O||{}),w=c.useRef(null);c.useEffect((function(){w.current&&(o?w.current.pause():w.current.play().catch((function(){})))}),[o]);return c.createElement(s.default,{story:t,globalHeader:i.header},c.createElement(d.default,{story:t,action:r},c.createElement("div",{style:y.videoContainer},c.createElement("video",{ref:w,style:j,src:t.url,controls:!1,onLoadedData:function(){a("UPDATE_VIDEO_DURATION",{duration:w.current.duration}),p(!0),w.current.play().then((function(){r("play")})).catch((function(){v(!0),w.current.play().finally((function(){r("play")}))}))},playsInline:!0,onWaiting:function(){r("pause",!0)},onPlaying:function(){r("play",!0)},muted:m,autoPlay:!0,"webkit-playsinline":"true"}),!l&&c.createElement("div",{style:{width:b,height:g,position:"absolute",left:0,top:0,background:"rgba(0, 0, 0, 0.9)",zIndex:9,display:"flex",justifyContent:"center",alignItems:"center",color:"#ccc"}},_||c.createElement(f.default,null)))))};var y={storyContent:{width:"auto",maxWidth:"100%",maxHeight:"100%",margin:"auto"},videoContainer:{display:"flex",alignItems:"center",justifyContent:"center"}};t.tester=function(e){return{condition:"video"===e.type,priority:2}},t.default={renderer:t.renderer,tester:t.tester}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.tester=t.renderer=void 0;var a=i(r(0));t.renderer=function(e){var t=e.story,r=e.action;return a.useEffect((function(){r("play")}),[t]),a.createElement("div",{style:u.storyContent},a.createElement("p",{style:u.text},"This story could not be loaded."))};var u={storyContent:{width:"100%",maxHeight:"100%",margin:"auto"},text:{textAlign:"center",color:"white",width:"90%",margin:"auto"}};t.tester=function(){return{condition:!0,priority:1}},t.default={renderer:t.renderer,tester:t.tester}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.tester=t.renderer=void 0;var a=i(r(0));t.renderer=function(e){a.useEffect((function(){e.action("play")}),[e.story]);var t=e.story.originalContent;return a.createElement(t,Object.assign({},e))},t.tester=function(e){return{condition:!!e.content,priority:2}},t.default={renderer:t.renderer,tester:t.tester}}])}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9TdG9yaWVzL3dlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIndlYnBhY2s6Ly9TdG9yaWVzL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL1N0b3JpZXMvZXh0ZXJuYWwge1wiY29tbW9uanNcIjpcInJlYWN0XCIsXCJjb21tb25qczJcIjpcInJlYWN0XCIsXCJhbWRcIjpcIlJlYWN0XCIsXCJyb290XCI6XCJSZWFjdFwifSIsIndlYnBhY2s6Ly9TdG9yaWVzLy4vc3JjL2NvbnRleHQvR2xvYmFsLnRzIiwid2VicGFjazovL1N0b3JpZXMvLi9zcmMvY29udGV4dC9TdG9yaWVzLnRzIiwid2VicGFjazovL1N0b3JpZXMvLi9zcmMvY29udGV4dC9Qcm9ncmVzcy50cyIsIndlYnBhY2s6Ly9TdG9yaWVzLy4vc3JjL3JlbmRlcmVycy93cmFwcGVycy93aXRoSGVhZGVyLnRzeCIsIndlYnBhY2s6Ly9TdG9yaWVzLy4vc3JjL3JlbmRlcmVycy93cmFwcGVycy93aXRoU2VlTW9yZS50c3giLCJ3ZWJwYWNrOi8vU3Rvcmllcy8uL3NyYy9jb21wb25lbnRzL1NwaW5uZXIudHN4Iiwid2VicGFjazovL1N0b3JpZXMvLi9zcmMvaW5kZXgudHN4Iiwid2VicGFjazovL1N0b3JpZXMvLi9zcmMvY29tcG9uZW50cy9Db250YWluZXIudHN4Iiwid2VicGFjazovL1N0b3JpZXMvLi9zcmMvY29tcG9uZW50cy9TdG9yeS50c3giLCJ3ZWJwYWNrOi8vU3Rvcmllcy8uL3NyYy9jb21wb25lbnRzL1Byb2dyZXNzQXJyYXkudHN4Iiwid2VicGFjazovL1N0b3JpZXMvLi9zcmMvY29tcG9uZW50cy9Qcm9ncmVzcy50c3giLCJ3ZWJwYWNrOi8vU3Rvcmllcy8uL3NyYy9jb21wb25lbnRzL1Byb2dyZXNzV3JhcHBlci50c3giLCJ3ZWJwYWNrOi8vU3Rvcmllcy8uL3NyYy91dGlsL3JlbmRlcmVycy50c3giLCJ3ZWJwYWNrOi8vU3Rvcmllcy8uL3NyYy9yZW5kZXJlcnMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vU3Rvcmllcy8uL3NyYy9yZW5kZXJlcnMvSW1hZ2UudHN4Iiwid2VicGFjazovL1N0b3JpZXMvLi9zcmMvYXNzZXRzL3B1ZmYuc3ZnIiwid2VicGFjazovL1N0b3JpZXMvLi9zcmMvY29tcG9uZW50cy9IZWFkZXIudHN4Iiwid2VicGFjazovL1N0b3JpZXMvLi9zcmMvY29tcG9uZW50cy9TZWVNb3JlLnRzeCIsIndlYnBhY2s6Ly9TdG9yaWVzLy4vc3JjL3JlbmRlcmVycy9WaWRlby50c3giLCJ3ZWJwYWNrOi8vU3Rvcmllcy8uL3NyYy9yZW5kZXJlcnMvRGVmYXVsdC50c3giLCJ3ZWJwYWNrOi8vU3Rvcmllcy8uL3NyYy9yZW5kZXJlcnMvQXV0b1BsYXlDb250ZW50LnRzeCJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJyZXF1aXJlIiwiZGVmaW5lIiwiYW1kIiwidGhpcyIsIl9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzBfXyIsImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJkZWZhdWx0SW50ZXJ2YWwiLCJ3aWR0aCIsImhlaWdodCIsIkdsb2JhbENvbnRleHQiLCJyZWFjdF8xIiwiY3JlYXRlQ29udGV4dCIsInN0b3JpZXMiLCJTdG9yaWVzQ29udGV4dCIsImN1cnJlbnRJZCIsInZpZGVvRHVyYXRpb24iLCJidWZmZXJBY3Rpb24iLCJwYXVzZSIsIm5leHQiLCJzdG9yeSIsImdsb2JhbEhlYWRlciIsImNoaWxkcmVuIiwiaGVhZGVyIiwic3R5bGUiLCJwb3NpdGlvbiIsImxlZnQiLCJ0b3AiLCJ6SW5kZXgiLCJIZWFkZXJfMSIsImhlYWRpbmciLCJzdWJoZWFkaW5nIiwicHJvZmlsZUltYWdlIiwiYWN0aW9uIiwiY3VzdG9tQ29sbGFwc2VkIiwic2hvd01vcmUiLCJzZXRTaG93TW9yZSIsIkNvbGxhcHNlZENvbXBvbmVudCIsIlNlZU1vcmVfMSIsInNlZU1vcmUiLCJtYXJnaW4iLCJib3R0b20iLCJ0b2dnbGVNb3JlIiwic2hvdyIsInNob3dDb250ZW50Iiwic2VlTW9yZUNvbnRlbnQiLCJzZWVNb3JlQ29sbGFwc2VkIiwicHVmZl9zdmdfMSIsIlJlYWN0SW5zdGFTdG9yaWVzIiwicHJvcHMiLCJyZW5kZXJlcnMiLCJjb25jYXQiLCJpbmRleF8xIiwiY29udGV4dCIsImxvYWRlciIsInN0b3J5Q29udGFpbmVyU3R5bGVzIiwic3RvcnlTdHlsZXMiLCJsb29wIiwiaXNQYXVzZWQiLCJjdXJyZW50SW5kZXgiLCJvblN0b3J5U3RhcnQiLCJvblN0b3J5RW5kIiwib25BbGxTdG9yaWVzRW5kIiwia2V5Ym9hcmROYXZpZ2F0aW9uIiwicHJldmVudERlZmF1bHQiLCJnZW5lcmF0ZVN0b3JpZXMiLCJzZXRTdG9yaWVzIiwiR2xvYmFsXzEiLCJQcm92aWRlciIsIlN0b3JpZXNfMSIsIkNvbnRhaW5lcl8xIiwibWFwIiwidXJsIiwidHlwZSIsImFzc2lnbiIsInJlbmRlcmVyIiwicmVuZGVyZXJzXzEiLCJvcmlnaW5hbENvbnRlbnQiLCJjb250ZW50IiwiZGVmYXVsdFByb3BzIiwid2l0aEhlYWRlcl8xIiwid2l0aFNlZU1vcmVfMSIsInNldEN1cnJlbnRJZCIsInNldFBhdXNlIiwic2V0QnVmZmVyQWN0aW9uIiwic2V0VmlkZW9EdXJhdGlvbiIsIm1vdXNlZG93bklkIiwiaXNNb3VudGVkIiwibGVuZ3RoIiwic2V0Q3VycmVudElkV3JhcHBlciIsImNvbnNvbGUiLCJlcnJvciIsIndpbmRvdyIsImRvY3VtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsImhhbmRsZUtleURvd24iLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiY3VycmVudCIsImUiLCJwcmV2aW91cyIsInRvZ2dsZVN0YXRlIiwiY2FsbGJhY2siLCJwcmVzc2VkUHJldmlvdXNCdXR0b25XaGlsZUZpcnN0U3RvcnkiLCJsb2ciLCJwcmV2IiwidXBkYXRlTmV4dFN0b3J5SWRGb3JMb29wIiwidXBkYXRlTmV4dFN0b3J5SWQiLCJkZWJvdW5jZVBhdXNlIiwic2V0VGltZW91dCIsIm1vdXNlVXAiLCJjbGVhclRpbWVvdXQiLCJzdHlsZXMiLCJjb250YWluZXIiLCJQcm9ncmVzc18xIiwiUHJvZ3Jlc3NBcnJheV8xIiwiU3RvcnlfMSIsInBsYXlTdGF0ZSIsImdldFZpZGVvRHVyYXRpb24iLCJkdXJhdGlvbiIsIm92ZXJsYXkiLCJjbGFzc05hbWUiLCJvblRvdWNoU3RhcnQiLCJvblRvdWNoRW5kIiwib25Nb3VzZURvd24iLCJvbk1vdXNlVXAiLCJkaXNwbGF5IiwiZmxleERpcmVjdGlvbiIsImJhY2tncm91bmQiLCJvdmVyZmxvdyIsImFsaWduSXRlbXMiLCJzdG9yeUNvbnRlbnQiLCJtYXhXaWR0aCIsIm1heEhlaWdodCIsIklubmVyQ29udGVudCIsImNvbmZpZyIsImdsb2JhbENvbnRleHQiLCJyZW5kZXJlck1lc3NhZ2VIYW5kbGVyIiwiZGF0YSIsImFjayIsIm1lc3NhZ2VIYW5kbGVyIiwiY291bnQiLCJzZXRDb3VudCIsIlByb2dyZXNzXzIiLCJhbmltYXRpb25GcmFtZUlkIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiaW5jcmVtZW50Q291bnQiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsImNvdW50Q29weSIsInN0b3J5U3RhcnRDYWxsYmFjayIsImludGVydmFsIiwiZ2V0Q3VycmVudEludGVydmFsIiwic3RvcnlFbmRDYWxsYmFjayIsImFsbFN0b3JpZXNFbmRDYWxsYmFjayIsInByb2dyZXNzQXJyIiwiXyIsImFjdGl2ZSIsImp1c3RpZnlDb250ZW50IiwiZmxleFdyYXAiLCJwYWRkaW5nIiwicGFkZGluZ1RvcCIsImFsaWduU2VsZiIsImZpbHRlciIsIlByb2dyZXNzV3JhcHBlcl8xIiwidHJhbnNmb3JtIiwiZ2V0UHJvZ3Jlc3NTdHlsZSIsImlubmVyIiwiYm9yZGVyUmFkaXVzIiwidHJhbnNmb3JtT3JpZ2luIiwiV2Via2l0QmFja2ZhY2VWaXNpYmlsaXR5IiwiTW96QmFja2ZhY2VWaXNpYmlsaXR5IiwibXNCYWNrZmFjZVZpc2liaWxpdHkiLCJiYWNrZmFjZVZpc2liaWxpdHkiLCJXZWJraXRQZXJzcGVjdGl2ZSIsIk1velBlcnNwZWN0aXZlIiwibXNQZXJzcGVjdGl2ZSIsInBlcnNwZWN0aXZlIiwiZ2V0UHJvZ3Jlc3NXcmFwcGVyU3R5bGUiLCJvcGFjaXR5IiwicHJvZ3Jlc3MiLCJ0cmFuc2l0aW9uIiwicHJvYmFibGUiLCJ0ZXN0ZXJSZXN1bHQiLCJ0ZXN0ZXIiLCJjb25kaXRpb24iLCJzb3J0IiwiYSIsImIiLCJwcmlvcml0eSIsIkltYWdlXzEiLCJWaWRlb18xIiwiQXV0b1BsYXlDb250ZW50XzEiLCJEZWZhdWx0XzEiLCJSZWFjdCIsInVzZVN0YXRlIiwibG9hZGVkIiwic2V0TG9hZGVkIiwiY29tcHV0ZWRTdHlsZXMiLCJzcmMiLCJvbkxvYWQiLCJjb2xvciIsIlNwaW5uZXJfMSIsInhtbG5zIiwic3Ryb2tlIiwiZmlsbCIsImZpbGxSdWxlIiwic3Ryb2tlV2lkdGgiLCJjeCIsImN5IiwiYXR0cmlidXRlTmFtZSIsImJlZ2luIiwiZHVyIiwidmFsdWVzIiwiY2FsY01vZGUiLCJrZXlUaW1lcyIsImtleVNwbGluZXMiLCJyZXBlYXRDb3VudCIsIm1haW4iLCJpbWciLCJtYXJnaW5SaWdodCIsImJvcmRlciIsInRleHQiLCJmb250U2l6ZSIsIm1hcmdpbkJvdHRvbSIsIlNlZU1vcmVDb250ZW50IiwiQ3VzdG9tQ29sbGFwc2VkIiwic2VlTW9yZUV4cGFuZGVkIiwiY2xvc2UiLCJvbkNsaWNrIiwic3RvcFByb3BhZ2F0aW9uIiwic2VlTW9yZUljb24iLCJzZWVNb3JlVGV4dCIsImJveFNpemluZyIsInRleHRBbGlnbiIsImxldHRlclNwYWNpbmciLCJ0ZXh0VHJhbnNmb3JtIiwic2VlTW9yZUNsb3NlIiwicmlnaHQiLCJtdXRlZCIsInNldE11dGVkIiwidmlkIiwidXNlUmVmIiwidXNlRWZmZWN0IiwicGxheSIsInZpZGVvQ29udGFpbmVyIiwicmVmIiwiY29udHJvbHMiLCJvbkxvYWRlZERhdGEiLCJ0aGVuIiwicGxheXNJbmxpbmUiLCJvbldhaXRpbmciLCJvblBsYXlpbmciLCJhdXRvUGxheSIsIkNvbnRlbnQiXSwibWFwcGluZ3MiOiJDQUFBLFNBQTJDQSxFQUFNQyxHQUMxQixpQkFBWkMsU0FBMEMsaUJBQVhDLE9BQ3hDQSxPQUFPRCxRQUFVRCxFQUFRRyxRQUFRLFVBQ1IsbUJBQVhDLFFBQXlCQSxPQUFPQyxJQUM5Q0QsT0FBTyxVQUFXLENBQUMsU0FBVUosR0FDSCxpQkFBWkMsUUFDZEEsUUFBaUIsUUFBSUQsRUFBUUcsUUFBUSxVQUVyQ0osRUFBYyxRQUFJQyxFQUFRRCxFQUFZLE9BUnhDLENBU0dPLE1BQU0sU0FBU0MsR0FDbEIsTyxZQ1RFLElBQUlDLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVULFFBR25DLElBQUlDLEVBQVNNLEVBQWlCRSxHQUFZLENBQ3pDQyxFQUFHRCxFQUNIRSxHQUFHLEVBQ0hYLFFBQVMsSUFVVixPQU5BWSxFQUFRSCxHQUFVSSxLQUFLWixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTUSxHQUcvRFAsRUFBT1UsR0FBSSxFQUdKVixFQUFPRCxRQTBEZixPQXJEQVEsRUFBb0JNLEVBQUlGLEVBR3hCSixFQUFvQk8sRUFBSVIsRUFHeEJDLEVBQW9CUSxFQUFJLFNBQVNoQixFQUFTaUIsRUFBTUMsR0FDM0NWLEVBQW9CVyxF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QUFBOUcsV0FDQXlOLE9BQUF6TixXLDRuQkNoSEosY0FHYUEsV0FBcUIsWUFBc0IsSUFBbkJ1RCxFQUFLLEVBQUxBLE1BQU9hLEVBQU0sRUFBTkEsT0FLeEMsT0FKQStKLEVBQU1pRCxXQUFVLFdBQ1poTixFQUFPLFVBQ1IsQ0FBQ2IsSUFFRzRLLHVCQUFLeEssTUFBT3VGLEVBQU9tQixjQUN0QjhELHFCQUFHeEssTUFBT3VGLEVBQU82RyxNQUFJLHFDQUk3QixJQUFNN0csRUFBUyxDQUNYbUIsYUFBYyxDQUNWMUgsTUFBTyxPQUNQNEgsVUFBVyxPQUNYNUYsT0FBUSxRQUVab0wsS0FBTSxDQUNGWSxVQUFXLFNBQ1hqQyxNQUFPLFFBQ1AvTCxNQUFPLE1BQ1BnQyxPQUFRLFNBSUgzRSxTQUFpQixXQUMxQixNQUFPLENBQ0gwTixXQUFXLEVBQ1hJLFNBQVUsSUFJbEI5TixVQUFlLENBQ1g4RyxTQUFBOUcsV0FDQXlOLE9BQUF6TixXLDRuQkNwQ0osY0FHYUEsV0FBcUIsU0FBQ29GLEdBQy9CK0ksRUFBTWlELFdBQVUsV0FDWmhNLEVBQU1oQixPQUFPLFVBQ2QsQ0FBQ2dCLEVBQU03QixRQUNWLElBQU13TyxFQUFVM00sRUFBTTdCLE1BQU15RCxnQkFDNUIsT0FBT21ILGdCQUFDNEQsRUFBTyxpQkFBSzNNLEtBR1hwRixTQUFpQixTQUFDdUQsR0FDM0IsTUFBTyxDQUNIbUssWUFBYW5LLEVBQU0wRCxRQUNuQjZHLFNBQVUsSUFJbEI5TixVQUFlLENBQ1g4RyxTQUFBOUcsV0FDQXlOLE9BQUF6TiIsImZpbGUiOiJpbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZShcInJlYWN0XCIpKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFwiU3Rvcmllc1wiLCBbXCJSZWFjdFwiXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJTdG9yaWVzXCJdID0gZmFjdG9yeShyZXF1aXJlKFwicmVhY3RcIikpO1xuXHRlbHNlXG5cdFx0cm9vdFtcIlN0b3JpZXNcIl0gPSBmYWN0b3J5KHJvb3RbXCJSZWFjdFwiXSk7XG59KSh0aGlzLCBmdW5jdGlvbihfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX18wX18pIHtcbnJldHVybiAiLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gNyk7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzBfXzsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyBHbG9iYWxDdHggfSBmcm9tICcuLi9pbnRlcmZhY2VzJztcclxuXHJcbmV4cG9ydCBjb25zdCBpbml0aWFsQ29udGV4dCA9IHtcclxuXHRkZWZhdWx0SW50ZXJ2YWw6IDQwMDAsXHJcblx0d2lkdGg6IDM2MCxcclxuXHRoZWlnaHQ6IDY0MCxcclxufTtcclxuXHJcbmNvbnN0IEdsb2JhbENvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0PEdsb2JhbEN0eD4oaW5pdGlhbENvbnRleHQpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgR2xvYmFsQ29udGV4dDtcclxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHtcclxuXHRTdG9yaWVzQ29udGV4dCBhcyBTdG9yaWVzQ29udGV4dEludGVyZmFjZSxcclxuXHRTdG9yeSxcclxufSBmcm9tICcuLi9pbnRlcmZhY2VzJztcclxuXHJcbmV4cG9ydCBjb25zdCBpbml0aWFsQ29udGV4dDogeyBzdG9yaWVzOiBTdG9yeVtdIH0gPSB7XHJcblx0c3RvcmllczogW10sXHJcbn07XHJcblxyXG5jb25zdCBTdG9yaWVzQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQ8U3Rvcmllc0NvbnRleHRJbnRlcmZhY2U+KFxyXG5cdGluaXRpYWxDb250ZXh0XHJcbik7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBTdG9yaWVzQ29udGV4dDtcclxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xyXG5pbXBvcnQgeyBQcm9ncmVzc0NvbnRleHQgfSBmcm9tICcuLy4uL2ludGVyZmFjZXMnXHJcblxyXG5leHBvcnQgZGVmYXVsdCBSZWFjdC5jcmVhdGVDb250ZXh0PFByb2dyZXNzQ29udGV4dD4oe1xyXG4gICAgY3VycmVudElkOiAwLFxyXG4gICAgdmlkZW9EdXJhdGlvbjogMCxcclxuICAgIGJ1ZmZlckFjdGlvbjogZmFsc2UsXHJcbiAgICBwYXVzZTogZmFsc2UsXHJcbiAgICBuZXh0OiAoKSA9PiB7IH1cclxufSkiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyBTdG9yeSB9IGZyb20gJy4uLy4uL2ludGVyZmFjZXMnO1xyXG5pbXBvcnQgSGVhZGVyIGZyb20gXCIuLy4uLy4uL2NvbXBvbmVudHMvSGVhZGVyXCI7XHJcblxyXG5jb25zdCB3aXRoSGVhZGVyOiBSZWFjdC5GQzx7IHN0b3J5OiBTdG9yeSwgZ2xvYmFsSGVhZGVyOiBGdW5jdGlvbiB9PiA9ICh7IHN0b3J5LCBnbG9iYWxIZWFkZXIsIGNoaWxkcmVuIH0pID0+IHtcclxuICAgIHJldHVybiA8PlxyXG4gICAgICAgIHtjaGlsZHJlbn1cclxuICAgICAgICB7c3RvcnkuaGVhZGVyICYmIChcclxuICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLCBsZWZ0OiAxMiwgdG9wOiAyMCwgekluZGV4OiAxOSB9fT5cclxuICAgICAgICAgICAgICAgIHt0eXBlb2Ygc3RvcnkgPT09IFwib2JqZWN0XCIgPyAoXHJcbiAgICAgICAgICAgICAgICAgICAgZ2xvYmFsSGVhZGVyID8gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBnbG9iYWxIZWFkZXIoc3RvcnkuaGVhZGVyKVxyXG4gICAgICAgICAgICAgICAgICAgICkgOiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SGVhZGVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGluZz17c3RvcnkuaGVhZGVyLmhlYWRpbmd9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ViaGVhZGluZz17c3RvcnkuaGVhZGVyLnN1YmhlYWRpbmd9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZmlsZUltYWdlPXtzdG9yeS5oZWFkZXIucHJvZmlsZUltYWdlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgKSA6IG51bGx9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICl9XHJcbiAgICA8Lz5cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgd2l0aEhlYWRlcjsiLCJpbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50VHlwZSwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IEFjdGlvbiwgU2VlTW9yZVByb3BzLCBTdG9yeSB9IGZyb20gJy4uLy4uL2ludGVyZmFjZXMnO1xyXG5pbXBvcnQgU2VlTW9yZSBmcm9tIFwiLi8uLi8uLi9jb21wb25lbnRzL1NlZU1vcmVcIjtcclxuXHJcbmNvbnN0IHdpdGhTZWVNb3JlOiBSZWFjdC5GQzx7XHJcbiAgICBzdG9yeTogU3RvcnksXHJcbiAgICBhY3Rpb246IEFjdGlvbixcclxuICAgIGN1c3RvbUNvbGxhcHNlZD86IFNlZU1vcmVQcm9wc1tcImN1c3RvbUNvbGxhcHNlZFwiXVxyXG59PiA9ICh7IHN0b3J5LCBhY3Rpb24sIGN1c3RvbUNvbGxhcHNlZCwgY2hpbGRyZW4gfSkgPT4ge1xyXG4gICAgY29uc3QgW3Nob3dNb3JlLCBzZXRTaG93TW9yZV0gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgICBjb25zdCB0b2dnbGVNb3JlID0gKHNob3cpID0+IHtcclxuICAgICAgICBhY3Rpb24oc2hvdyA/ICdwYXVzZScgOiAncGxheScpO1xyXG4gICAgICAgIHNldFNob3dNb3JlKHNob3cpO1xyXG4gICAgfVxyXG4gICAgY29uc3QgQ29sbGFwc2VkQ29tcG9uZW50ID0gU2VlTW9yZTtcclxuICAgIHJldHVybiA8PlxyXG4gICAgICAgIHtjaGlsZHJlbn1cclxuICAgICAgICB7c3Rvcnkuc2VlTW9yZSAmJiAoXHJcbiAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcclxuICAgICAgICAgICAgICAgICAgICBtYXJnaW46IFwiYXV0b1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIGJvdHRvbTogc2hvd01vcmUgPyAndW5zZXQnIDogMCxcclxuICAgICAgICAgICAgICAgICAgICB6SW5kZXg6IDk5OTksXHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogc2hvd01vcmUgPyAnMTAwJScgOiAnYXV0bydcclxuICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIDxDb2xsYXBzZWRDb21wb25lbnRcclxuICAgICAgICAgICAgICAgICAgICBhY3Rpb249e2FjdGlvbn1cclxuICAgICAgICAgICAgICAgICAgICB0b2dnbGVNb3JlPXt0b2dnbGVNb3JlfVxyXG4gICAgICAgICAgICAgICAgICAgIHNob3dDb250ZW50PXtzaG93TW9yZX1cclxuICAgICAgICAgICAgICAgICAgICBzZWVNb3JlQ29udGVudD17c3Rvcnkuc2VlTW9yZX1cclxuICAgICAgICAgICAgICAgICAgICBjdXN0b21Db2xsYXBzZWQ9e2N1c3RvbUNvbGxhcHNlZCB8fCBzdG9yeS5zZWVNb3JlQ29sbGFwc2VkfVxyXG4gICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKX1cclxuICAgIDwvPlxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCB3aXRoU2VlTW9yZTsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgU3Bpbm5lclNWRyBmcm9tICcuLy4uL2Fzc2V0cy9wdWZmLnN2Zyc7XHJcblxyXG5jb25zdCBTcGlubmVyID0gKCkgPT4ge1xyXG4gICAgcmV0dXJuIDxTcGlubmVyU1ZHIC8+XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFNwaW5uZXI7IiwiaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCdcclxuaW1wb3J0IHsgUmVhY3RJbnN0YVN0b3JpZXNQcm9wcywgR2xvYmFsQ3R4LCBTdG9yeSwgVGVzdGVyLCBSZW5kZXJlciB9IGZyb20gJy4vaW50ZXJmYWNlcydcclxuaW1wb3J0IENvbnRhaW5lciBmcm9tICcuL2NvbXBvbmVudHMvQ29udGFpbmVyJ1xyXG5pbXBvcnQgR2xvYmFsQ29udGV4dCBmcm9tICcuL2NvbnRleHQvR2xvYmFsJ1xyXG5pbXBvcnQgU3Rvcmllc0NvbnRleHQgZnJvbSAnLi9jb250ZXh0L1N0b3JpZXMnO1xyXG5pbXBvcnQgeyBnZXRSZW5kZXJlciB9IGZyb20gJy4vdXRpbC9yZW5kZXJlcnMnXHJcbmltcG9ydCB7IHJlbmRlcmVycyBhcyBkZWZhdWx0UmVuZGVyZXJzIH0gZnJvbSAnLi9yZW5kZXJlcnMvaW5kZXgnO1xyXG5pbXBvcnQgd2l0aEhlYWRlciBmcm9tICcuL3JlbmRlcmVycy93cmFwcGVycy93aXRoSGVhZGVyJ1xyXG5pbXBvcnQgd2l0aFNlZU1vcmUgZnJvbSAnLi9yZW5kZXJlcnMvd3JhcHBlcnMvd2l0aFNlZU1vcmUnXHJcblxyXG5jb25zdCBSZWFjdEluc3RhU3RvcmllcyA9IGZ1bmN0aW9uIChwcm9wczogUmVhY3RJbnN0YVN0b3JpZXNQcm9wcykge1xyXG4gICAgbGV0IHJlbmRlcmVycyA9IHByb3BzLnJlbmRlcmVycyA/IHByb3BzLnJlbmRlcmVycy5jb25jYXQoZGVmYXVsdFJlbmRlcmVycykgOiBkZWZhdWx0UmVuZGVyZXJzO1xyXG4gICAgbGV0IGNvbnRleHQ6IEdsb2JhbEN0eCA9IHtcclxuICAgICAgICB3aWR0aDogcHJvcHMud2lkdGgsXHJcbiAgICAgICAgaGVpZ2h0OiBwcm9wcy5oZWlnaHQsXHJcbiAgICAgICAgbG9hZGVyOiBwcm9wcy5sb2FkZXIsXHJcbiAgICAgICAgaGVhZGVyOiBwcm9wcy5oZWFkZXIsXHJcbiAgICAgICAgc3RvcnlDb250YWluZXJTdHlsZXM6IHByb3BzLnN0b3J5Q29udGFpbmVyU3R5bGVzLFxyXG4gICAgICAgIHN0b3J5U3R5bGVzOiBwcm9wcy5zdG9yeVN0eWxlcyxcclxuICAgICAgICBsb29wOiBwcm9wcy5sb29wLFxyXG4gICAgICAgIGRlZmF1bHRJbnRlcnZhbDogcHJvcHMuZGVmYXVsdEludGVydmFsLFxyXG4gICAgICAgIGlzUGF1c2VkOiBwcm9wcy5pc1BhdXNlZCxcclxuICAgICAgICBjdXJyZW50SW5kZXg6IHByb3BzLmN1cnJlbnRJbmRleCxcclxuICAgICAgICBvblN0b3J5U3RhcnQ6IHByb3BzLm9uU3RvcnlTdGFydCxcclxuICAgICAgICBvblN0b3J5RW5kOiBwcm9wcy5vblN0b3J5RW5kLFxyXG4gICAgICAgIG9uQWxsU3Rvcmllc0VuZDogcHJvcHMub25BbGxTdG9yaWVzRW5kLFxyXG4gICAgICAgIGtleWJvYXJkTmF2aWdhdGlvbjogcHJvcHMua2V5Ym9hcmROYXZpZ2F0aW9uLFxyXG4gICAgICAgIHByZXZlbnREZWZhdWx0OiBwcm9wcy5wcmV2ZW50RGVmYXVsdFxyXG4gICAgfVxyXG4gICAgY29uc3QgW3N0b3JpZXMsIHNldFN0b3JpZXNdID0gdXNlU3RhdGU8eyBzdG9yaWVzOiBTdG9yeVtdIH0+KHsgc3RvcmllczogZ2VuZXJhdGVTdG9yaWVzKHByb3BzLnN0b3JpZXMsIHJlbmRlcmVycykgfSk7XHJcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgIHNldFN0b3JpZXMoeyBzdG9yaWVzOiBnZW5lcmF0ZVN0b3JpZXMocHJvcHMuc3RvcmllcywgcmVuZGVyZXJzKSB9KTtcclxuICAgIH0sIFtwcm9wcy5zdG9yaWVzLCBwcm9wcy5yZW5kZXJlcnNdKTtcclxuXHJcbiAgICByZXR1cm4gPEdsb2JhbENvbnRleHQuUHJvdmlkZXIgdmFsdWU9e2NvbnRleHR9PlxyXG4gICAgICAgIDxTdG9yaWVzQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17c3Rvcmllc30+XHJcbiAgICAgICAgICAgIDxDb250YWluZXIgLz5cclxuICAgICAgICA8L1N0b3JpZXNDb250ZXh0LlByb3ZpZGVyPlxyXG4gICAgPC9HbG9iYWxDb250ZXh0LlByb3ZpZGVyPlxyXG59XHJcblxyXG5jb25zdCBnZW5lcmF0ZVN0b3JpZXMgPSAoc3RvcmllczogU3RvcnlbXSwgcmVuZGVyZXJzOiB7IHJlbmRlcmVyOiBSZW5kZXJlciwgdGVzdGVyOiBUZXN0ZXIgfVtdKSA9PiB7XHJcbiAgICByZXR1cm4gc3Rvcmllcy5tYXAocyA9PiB7XHJcbiAgICAgICAgbGV0IHN0b3J5OiBTdG9yeSA9IHt9O1xyXG5cclxuICAgICAgICBpZiAodHlwZW9mIHMgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIHN0b3J5LnVybCA9IHM7XHJcbiAgICAgICAgICAgIHN0b3J5LnR5cGUgPSAnaW1hZ2UnO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHMgPT09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgICAgIHN0b3J5ID0gT2JqZWN0LmFzc2lnbihzdG9yeSwgcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgcmVuZGVyZXIgPSBnZXRSZW5kZXJlcihzdG9yeSwgcmVuZGVyZXJzKTtcclxuICAgICAgICBzdG9yeS5vcmlnaW5hbENvbnRlbnQgPSBzdG9yeS5jb250ZW50O1xyXG4gICAgICAgIHN0b3J5LmNvbnRlbnQgPSByZW5kZXJlcjtcclxuICAgICAgICByZXR1cm4gc3RvcnlcclxuICAgIH0pXHJcbn07XHJcblxyXG5SZWFjdEluc3RhU3Rvcmllcy5kZWZhdWx0UHJvcHMgPSB7XHJcbiAgICB3aWR0aDogMzYwLFxyXG4gICAgaGVpZ2h0OiA2NDAsXHJcbiAgICBkZWZhdWx0SW50ZXJ2YWw6IDQwMDBcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IFdpdGhIZWFkZXIgPSB3aXRoSGVhZGVyO1xyXG5leHBvcnQgY29uc3QgV2l0aFNlZU1vcmUgPSB3aXRoU2VlTW9yZTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IFJlYWN0SW5zdGFTdG9yaWVzIiwiaW1wb3J0IFJlYWN0LCB7IHVzZUNvbnRleHQsIHVzZVN0YXRlLCB1c2VSZWYsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0J1xyXG5pbXBvcnQgR2xvYmFsQ29udGV4dCBmcm9tICcuLy4uL2NvbnRleHQvR2xvYmFsJ1xyXG5pbXBvcnQgU3Rvcmllc0NvbnRleHQgZnJvbSAnLi8uLi9jb250ZXh0L1N0b3JpZXMnXHJcbmltcG9ydCBQcm9ncmVzc0NvbnRleHQgZnJvbSAnLi8uLi9jb250ZXh0L1Byb2dyZXNzJ1xyXG5pbXBvcnQgU3RvcnkgZnJvbSAnLi9TdG9yeSdcclxuaW1wb3J0IFByb2dyZXNzQXJyYXkgZnJvbSAnLi9Qcm9ncmVzc0FycmF5J1xyXG5pbXBvcnQgeyBHbG9iYWxDdHgsIFN0b3JpZXNDb250ZXh0IGFzIFN0b3JpZXNDb250ZXh0SW50ZXJmYWNlIH0gZnJvbSAnLi8uLi9pbnRlcmZhY2VzJ1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCkge1xyXG4gICAgY29uc3QgW2N1cnJlbnRJZCwgc2V0Q3VycmVudElkXSA9IHVzZVN0YXRlPG51bWJlcj4oMClcclxuICAgIGNvbnN0IFtwYXVzZSwgc2V0UGF1c2VdID0gdXNlU3RhdGU8Ym9vbGVhbj4odHJ1ZSlcclxuICAgIGNvbnN0IFtidWZmZXJBY3Rpb24sIHNldEJ1ZmZlckFjdGlvbl0gPSB1c2VTdGF0ZTxib29sZWFuPih0cnVlKVxyXG4gICAgY29uc3QgW3ZpZGVvRHVyYXRpb24sIHNldFZpZGVvRHVyYXRpb25dID0gdXNlU3RhdGU8bnVtYmVyPigwKVxyXG5cclxuICAgIGxldCBtb3VzZWRvd25JZCA9IHVzZVJlZjxhbnk+KCk7XHJcbiAgICBsZXQgaXNNb3VudGVkID0gdXNlUmVmPGJvb2xlYW4+KHRydWUpO1xyXG5cclxuICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCwgbG9vcCwgY3VycmVudEluZGV4LCBpc1BhdXNlZCwga2V5Ym9hcmROYXZpZ2F0aW9uLCBwcmV2ZW50RGVmYXVsdCwgc3RvcnlDb250YWluZXJTdHlsZXMgPSB7fSwgb25BbGxTdG9yaWVzRW5kIH0gPSB1c2VDb250ZXh0PEdsb2JhbEN0eD4oR2xvYmFsQ29udGV4dCk7XHJcbiAgICBjb25zdCB7IHN0b3JpZXMgfSA9IHVzZUNvbnRleHQ8U3Rvcmllc0NvbnRleHRJbnRlcmZhY2U+KFN0b3JpZXNDb250ZXh0KTtcclxuXHJcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgIGlmICh0eXBlb2YgY3VycmVudEluZGV4ID09PSAnbnVtYmVyJykge1xyXG4gICAgICAgICAgICBpZiAoY3VycmVudEluZGV4ID49IDAgJiYgY3VycmVudEluZGV4IDwgc3Rvcmllcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHNldEN1cnJlbnRJZFdyYXBwZXIoKCkgPT4gY3VycmVudEluZGV4KVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignSW5kZXggb3V0IG9mIGJvdW5kcy4gQ3VycmVudCBpbmRleCB3YXMgc2V0IHRvIHZhbHVlIG1vcmUgdGhhbiB0aGUgbGVuZ3RoIG9mIHN0b3JpZXMgYXJyYXkuJywgY3VycmVudEluZGV4KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSwgW2N1cnJlbnRJbmRleF0pXHJcblxyXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgICAgICBpZiAodHlwZW9mIGlzUGF1c2VkID09PSAnYm9vbGVhbicpIHtcclxuICAgICAgICAgICAgc2V0UGF1c2UoaXNQYXVzZWQpXHJcbiAgICAgICAgfVxyXG4gICAgfSwgW2lzUGF1c2VkXSlcclxuXHJcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGlzQ2xpZW50ID0gKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5kb2N1bWVudCk7XHJcbiAgICAgICAgaWYgKGlzQ2xpZW50ICYmICh0eXBlb2Yga2V5Ym9hcmROYXZpZ2F0aW9uID09PSAnYm9vbGVhbicgJiYga2V5Ym9hcmROYXZpZ2F0aW9uKSkge1xyXG4gICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBoYW5kbGVLZXlEb3duKTtcclxuICAgICAgICAgICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGhhbmRsZUtleURvd24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSwgW2tleWJvYXJkTmF2aWdhdGlvbl0pO1xyXG5cclxuICAgIC8vIENsZWFudXAgbW91bnRlZCBzdGF0ZSAtIGZvciBpc3N1ZSAjMTMwIChodHRwczovL2dpdGh1Yi5jb20vbW9oaXRrMDUvcmVhY3QtaW5zdGEtc3Rvcmllcy9pc3N1ZXMvMTMwKVxyXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgICAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICAgICAgICBpc01vdW50ZWQuY3VycmVudCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH0sIFtdKTtcclxuXHJcbiAgICBjb25zdCBoYW5kbGVLZXlEb3duID0gKGU6IEtleWJvYXJkRXZlbnQpID0+IHtcclxuICAgICAgICBpZiAoZS5rZXkgPT09ICdBcnJvd0xlZnQnKSB7XHJcbiAgICAgICAgICAgIHByZXZpb3VzKClcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoZS5rZXkgPT09ICdBcnJvd1JpZ2h0Jykge1xyXG4gICAgICAgICAgICBuZXh0KClcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgdG9nZ2xlU3RhdGUgPSAoYWN0aW9uOiBzdHJpbmcsIGJ1ZmZlckFjdGlvbj86IGJvb2xlYW4pID0+IHtcclxuICAgICAgICBzZXRQYXVzZShhY3Rpb24gPT09ICdwYXVzZScpXHJcbiAgICAgICAgc2V0QnVmZmVyQWN0aW9uKCEhYnVmZmVyQWN0aW9uKVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHNldEN1cnJlbnRJZFdyYXBwZXIgPSAoY2FsbGJhY2spID0+IHtcclxuICAgICAgICBzZXRDdXJyZW50SWQoY2FsbGJhY2spO1xyXG4gICAgICAgIHRvZ2dsZVN0YXRlKCdwYXVzZScsIHRydWUpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHByZXZpb3VzID0gKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHByZXNzZWRQcmV2aW91c0J1dHRvbldoaWxlRmlyc3RTdG9yeSA9IGN1cnJlbnRJZCA9PT0gMDtcclxuICAgICAgICBjb25zb2xlLmxvZyhwcmVzc2VkUHJldmlvdXNCdXR0b25XaGlsZUZpcnN0U3RvcnksIGN1cnJlbnRJZCk7XHJcbiAgICAgICAgc2V0Q3VycmVudElkV3JhcHBlcihwcmV2ID0+IHByZXYgPiAwID8gcHJldiAtIDEgOiBwcmV2KVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IG5leHQgPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKGlzTW91bnRlZC5jdXJyZW50KSB7XHJcbiAgICAgICAgICAgIGlmIChsb29wKSB7XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVOZXh0U3RvcnlJZEZvckxvb3AoKVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdXBkYXRlTmV4dFN0b3J5SWQoKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCB1cGRhdGVOZXh0U3RvcnlJZEZvckxvb3AgPSAoKSA9PiB7XHJcbiAgICAgICAgc2V0Q3VycmVudElkV3JhcHBlcihwcmV2ID0+IChwcmV2ICsgMSkgJSBzdG9yaWVzLmxlbmd0aClcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB1cGRhdGVOZXh0U3RvcnlJZCA9ICgpID0+IHtcclxuICAgICAgICBzZXRDdXJyZW50SWRXcmFwcGVyKHByZXYgPT4ge1xyXG4gICAgICAgICAgICBpZiAocHJldiA8IHN0b3JpZXMubGVuZ3RoIC0gMSkgcmV0dXJuIHByZXYgKyAxXHJcbiAgICAgICAgICAgIG9uQWxsU3Rvcmllc0VuZCAmJiBvbkFsbFN0b3JpZXNFbmQoY3VycmVudElkLCBzdG9yaWVzKVxyXG4gICAgICAgICAgICByZXR1cm4gcHJldlxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgZGVib3VuY2VQYXVzZSA9IChlOiBSZWFjdC5Nb3VzZUV2ZW50IHwgUmVhY3QuVG91Y2hFdmVudCkgPT4ge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKVxyXG4gICAgICAgIG1vdXNlZG93bklkLmN1cnJlbnQgPSBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgdG9nZ2xlU3RhdGUoJ3BhdXNlJylcclxuICAgICAgICB9LCAyMDApXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgbW91c2VVcCA9ICh0eXBlOiBzdHJpbmcpID0+IChlOiBSZWFjdC5Nb3VzZUV2ZW50IHwgUmVhY3QuVG91Y2hFdmVudCkgPT4ge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKVxyXG4gICAgICAgIG1vdXNlZG93bklkLmN1cnJlbnQgJiYgY2xlYXJUaW1lb3V0KG1vdXNlZG93bklkLmN1cnJlbnQpXHJcbiAgICAgICAgaWYgKHBhdXNlKSB7XHJcbiAgICAgICAgICAgIHRvZ2dsZVN0YXRlKCdwbGF5JylcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0eXBlID09PSAnbmV4dCcgPyBuZXh0KCkgOiBwcmV2aW91cygpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGdldFZpZGVvRHVyYXRpb24gPSAoZHVyYXRpb246IG51bWJlcikgPT4ge1xyXG4gICAgICAgIHNldFZpZGVvRHVyYXRpb24oZHVyYXRpb24gKiAxMDAwKVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiAoXHJcbiAgICAgICAgPGRpdiBzdHlsZT17eyAuLi5zdHlsZXMuY29udGFpbmVyLCAuLi5zdG9yeUNvbnRhaW5lclN0eWxlcywgLi4ueyB3aWR0aCwgaGVpZ2h0IH0gfX0+XHJcbiAgICAgICAgICAgIDxQcm9ncmVzc0NvbnRleHQuUHJvdmlkZXIgdmFsdWU9e3tcclxuICAgICAgICAgICAgICAgIGJ1ZmZlckFjdGlvbjogYnVmZmVyQWN0aW9uLFxyXG4gICAgICAgICAgICAgICAgdmlkZW9EdXJhdGlvbjogdmlkZW9EdXJhdGlvbixcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRJZCxcclxuICAgICAgICAgICAgICAgIHBhdXNlLFxyXG4gICAgICAgICAgICAgICAgbmV4dFxyXG4gICAgICAgICAgICB9fT5cclxuICAgICAgICAgICAgICAgIDxQcm9ncmVzc0FycmF5IC8+XHJcbiAgICAgICAgICAgIDwvUHJvZ3Jlc3NDb250ZXh0LlByb3ZpZGVyPlxyXG4gICAgICAgICAgICA8U3RvcnlcclxuICAgICAgICAgICAgICAgIGFjdGlvbj17dG9nZ2xlU3RhdGV9XHJcbiAgICAgICAgICAgICAgICBidWZmZXJBY3Rpb249e2J1ZmZlckFjdGlvbn1cclxuICAgICAgICAgICAgICAgIHBsYXlTdGF0ZT17cGF1c2V9XHJcbiAgICAgICAgICAgICAgICBzdG9yeT17c3Rvcmllc1tjdXJyZW50SWRdfVxyXG4gICAgICAgICAgICAgICAgZ2V0VmlkZW9EdXJhdGlvbj17Z2V0VmlkZW9EdXJhdGlvbn1cclxuICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgeyFwcmV2ZW50RGVmYXVsdCAmJiA8ZGl2IHN0eWxlPXtzdHlsZXMub3ZlcmxheX0+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInByZXZpb3VzLXN0b3J5LWJ1dHRvblwiIHN0eWxlPXt7IHdpZHRoOiAnNTAlJywgekluZGV4OiA5OTkgfX0gb25Ub3VjaFN0YXJ0PXtkZWJvdW5jZVBhdXNlfSBvblRvdWNoRW5kPXttb3VzZVVwKCdwcmV2aW91cycpfSBvbk1vdXNlRG93bj17ZGVib3VuY2VQYXVzZX0gb25Nb3VzZVVwPXttb3VzZVVwKCdwcmV2aW91cycpfSAvPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJuZXh0LXN0b3J5LWJ1dHRvblwiIHN0eWxlPXt7IHdpZHRoOiAnNTAlJywgekluZGV4OiA5OTkgfX0gb25Ub3VjaFN0YXJ0PXtkZWJvdW5jZVBhdXNlfSBvblRvdWNoRW5kPXttb3VzZVVwKCduZXh0Jyl9IG9uTW91c2VEb3duPXtkZWJvdW5jZVBhdXNlfSBvbk1vdXNlVXA9e21vdXNlVXAoJ25leHQnKX0gLz5cclxuICAgICAgICAgICAgPC9kaXY+fVxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgKVxyXG59XHJcblxyXG5jb25zdCBzdHlsZXMgPSB7XHJcbiAgICBjb250YWluZXI6IHtcclxuICAgICAgICBkaXNwbGF5OiAnZmxleCcsXHJcbiAgICAgICAgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsXHJcbiAgICAgICAgYmFja2dyb3VuZDogJyMxMTEnLFxyXG4gICAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnXHJcbiAgICB9LFxyXG4gICAgb3ZlcmxheToge1xyXG4gICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxyXG4gICAgICAgIGhlaWdodDogJ2luaGVyaXQnLFxyXG4gICAgICAgIHdpZHRoOiAnaW5oZXJpdCcsXHJcbiAgICAgICAgZGlzcGxheTogJ2ZsZXgnXHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IFJlYWN0LCB7IHVzZUNvbnRleHQgfSBmcm9tIFwicmVhY3RcIjtcclxuaW1wb3J0IHsgU3RvcnlQcm9wcywgR2xvYmFsQ3R4IH0gZnJvbSBcIi4vLi4vaW50ZXJmYWNlc1wiO1xyXG5pbXBvcnQgR2xvYmFsQ29udGV4dCBmcm9tIFwiLi8uLi9jb250ZXh0L0dsb2JhbFwiO1xyXG5cclxuY29uc3QgU3RvcnkgPSAocHJvcHM6IFN0b3J5UHJvcHMpID0+IHtcclxuXHRjb25zdCBnbG9iYWxDb250ZXh0ID0gdXNlQ29udGV4dDxHbG9iYWxDdHg+KFxyXG5cdFx0R2xvYmFsQ29udGV4dFxyXG5cdCk7XHJcblxyXG5cdGNvbnN0IHsgd2lkdGgsIGhlaWdodCwgbG9hZGVyLCBoZWFkZXIsIHN0b3J5U3R5bGVzIH0gPSBnbG9iYWxDb250ZXh0O1xyXG5cclxuXHRjb25zdCByZW5kZXJlck1lc3NhZ2VIYW5kbGVyID0gKHR5cGU6IHN0cmluZywgZGF0YTogYW55KSA9PiB7XHJcblx0XHRzd2l0Y2ggKHR5cGUpIHtcclxuXHRcdFx0Y2FzZSAnVVBEQVRFX1ZJREVPX0RVUkFUSU9OJzpcclxuXHRcdFx0XHRwcm9wcy5nZXRWaWRlb0R1cmF0aW9uKGRhdGEuZHVyYXRpb24pO1xyXG5cdFx0XHRcdHJldHVybiB7IGFjazogJ09LJyBhcyAnT0snIH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGNvbnN0IGdldFN0b3J5Q29udGVudCA9ICgpID0+IHtcclxuXHRcdGxldCBJbm5lckNvbnRlbnQgPSBwcm9wcy5zdG9yeS5jb250ZW50O1xyXG5cdFx0bGV0IGNvbmZpZyA9IHsgd2lkdGgsIGhlaWdodCwgbG9hZGVyLCBoZWFkZXIsIHN0b3J5U3R5bGVzIH07XHJcblx0XHRyZXR1cm4gPElubmVyQ29udGVudFxyXG5cdFx0XHRhY3Rpb249e3Byb3BzLmFjdGlvbn1cclxuXHRcdFx0aXNQYXVzZWQ9e3Byb3BzLnBsYXlTdGF0ZX1cclxuXHRcdFx0c3Rvcnk9e3Byb3BzLnN0b3J5fVxyXG5cdFx0XHRjb25maWc9e2NvbmZpZ31cclxuXHRcdFx0bWVzc2FnZUhhbmRsZXI9e3JlbmRlcmVyTWVzc2FnZUhhbmRsZXJ9XHJcblx0XHQvPlxyXG5cdH07XHJcblxyXG5cdHJldHVybiAoXHJcblx0XHQ8ZGl2XHJcblx0XHRcdHN0eWxlPXt7IC4uLnN0eWxlcy5zdG9yeSwgd2lkdGg6IHdpZHRoLCBoZWlnaHQ6IGhlaWdodCB9fVxyXG5cdFx0PlxyXG5cdFx0XHR7Z2V0U3RvcnlDb250ZW50KCl9XHJcblx0XHQ8L2Rpdj5cclxuXHQpO1xyXG59O1xyXG5cclxuY29uc3Qgc3R5bGVzID0ge1xyXG5cdHN0b3J5OiB7XHJcblx0XHRkaXNwbGF5OiBcImZsZXhcIixcclxuXHRcdHBvc2l0aW9uOiBcInJlbGF0aXZlXCIsXHJcblx0XHRvdmVyZmxvdzogXCJoaWRkZW5cIixcclxuXHRcdGFsaWduSXRlbXM6IFwiY2VudGVyXCJcclxuXHR9LFxyXG5cdHN0b3J5Q29udGVudDoge1xyXG5cdFx0d2lkdGg6IFwiYXV0b1wiLFxyXG5cdFx0bWF4V2lkdGg6IFwiMTAwJVwiLFxyXG5cdFx0bWF4SGVpZ2h0OiBcIjEwMCVcIixcclxuXHRcdG1hcmdpbjogXCJhdXRvXCJcclxuXHR9XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBTdG9yeTtcclxuIiwiaW1wb3J0IFJlYWN0LCB7IHVzZUNvbnRleHQsIHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gJ3JlYWN0J1xyXG5pbXBvcnQgUHJvZ3Jlc3MgZnJvbSAnLi9Qcm9ncmVzcydcclxuaW1wb3J0IHsgUHJvZ3Jlc3NDb250ZXh0LCBHbG9iYWxDdHgsIFN0b3JpZXNDb250ZXh0IGFzIFN0b3JpZXNDb250ZXh0SW50ZXJmYWNlIH0gZnJvbSAnLi8uLi9pbnRlcmZhY2VzJ1xyXG5pbXBvcnQgUHJvZ3Jlc3NDdHggZnJvbSAnLi8uLi9jb250ZXh0L1Byb2dyZXNzJ1xyXG5pbXBvcnQgR2xvYmFsQ29udGV4dCBmcm9tICcuLy4uL2NvbnRleHQvR2xvYmFsJ1xyXG5pbXBvcnQgU3Rvcmllc0NvbnRleHQgZnJvbSAnLi8uLi9jb250ZXh0L1N0b3JpZXMnXHJcblxyXG5leHBvcnQgZGVmYXVsdCAoKSA9PiB7XHJcbiAgICBjb25zdCBbY291bnQsIHNldENvdW50XSA9IHVzZVN0YXRlPG51bWJlcj4oMClcclxuICAgIGNvbnN0IHsgY3VycmVudElkLCBuZXh0LCB2aWRlb0R1cmF0aW9uLCBwYXVzZSB9ID0gdXNlQ29udGV4dDxQcm9ncmVzc0NvbnRleHQ+KFByb2dyZXNzQ3R4KVxyXG4gICAgY29uc3QgeyBkZWZhdWx0SW50ZXJ2YWwsIG9uU3RvcnlFbmQsIG9uU3RvcnlTdGFydCwgb25BbGxTdG9yaWVzRW5kIH0gPSB1c2VDb250ZXh0PEdsb2JhbEN0eD4oR2xvYmFsQ29udGV4dCk7XHJcbiAgICBjb25zdCB7IHN0b3JpZXMgfSA9IHVzZUNvbnRleHQ8U3Rvcmllc0NvbnRleHRJbnRlcmZhY2U+KFN0b3JpZXNDb250ZXh0KTtcclxuXHJcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgIHNldENvdW50KDApXHJcbiAgICB9LCBbY3VycmVudElkLCBzdG9yaWVzXSlcclxuXHJcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgIGlmICghcGF1c2UpIHtcclxuICAgICAgICAgICAgYW5pbWF0aW9uRnJhbWVJZC5jdXJyZW50ID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGluY3JlbWVudENvdW50KVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZShhbmltYXRpb25GcmFtZUlkLmN1cnJlbnQpXHJcbiAgICAgICAgfVxyXG4gICAgfSwgW2N1cnJlbnRJZCwgcGF1c2VdKVxyXG5cclxuICAgIGxldCBhbmltYXRpb25GcmFtZUlkID0gdXNlUmVmPG51bWJlcj4oKVxyXG5cclxuICAgIGxldCBjb3VudENvcHkgPSBjb3VudDtcclxuICAgIGNvbnN0IGluY3JlbWVudENvdW50ID0gKCkgPT4ge1xyXG4gICAgICAgIGlmIChjb3VudENvcHkgPT09IDApIHN0b3J5U3RhcnRDYWxsYmFjaygpXHJcbiAgICAgICAgc2V0Q291bnQoKGNvdW50OiBudW1iZXIpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgaW50ZXJ2YWwgPSBnZXRDdXJyZW50SW50ZXJ2YWwoKVxyXG4gICAgICAgICAgICBjb3VudENvcHkgPSBjb3VudCArICgxMDAgLyAoKGludGVydmFsIC8gMTAwMCkgKiA2MCkpXHJcbiAgICAgICAgICAgIHJldHVybiBjb3VudCArICgxMDAgLyAoKGludGVydmFsIC8gMTAwMCkgKiA2MCkpXHJcbiAgICAgICAgfSlcclxuICAgICAgICBpZiAoY291bnRDb3B5IDwgMTAwKSB7XHJcbiAgICAgICAgICAgIGFuaW1hdGlvbkZyYW1lSWQuY3VycmVudCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShpbmNyZW1lbnRDb3VudClcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzdG9yeUVuZENhbGxiYWNrKCk7XHJcbiAgICAgICAgICAgIGlmIChjdXJyZW50SWQgPT09IHN0b3JpZXMubGVuZ3RoIC0gMSkge1xyXG4gICAgICAgICAgICAgICAgYWxsU3Rvcmllc0VuZENhbGxiYWNrKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUoYW5pbWF0aW9uRnJhbWVJZC5jdXJyZW50KTtcclxuICAgICAgICAgICAgbmV4dCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBzdG9yeVN0YXJ0Q2FsbGJhY2sgPSAoKSA9PiB7XHJcbiAgICAgICAgb25TdG9yeVN0YXJ0ICYmIG9uU3RvcnlTdGFydChjdXJyZW50SWQsIHN0b3JpZXNbY3VycmVudElkXSlcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBzdG9yeUVuZENhbGxiYWNrID0gKCkgPT4ge1xyXG4gICAgICAgIG9uU3RvcnlFbmQgJiYgb25TdG9yeUVuZChjdXJyZW50SWQsIHN0b3JpZXNbY3VycmVudElkXSlcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBhbGxTdG9yaWVzRW5kQ2FsbGJhY2sgPSAoKSA9PiB7XHJcbiAgICAgICAgb25BbGxTdG9yaWVzRW5kICYmIG9uQWxsU3Rvcmllc0VuZChjdXJyZW50SWQsIHN0b3JpZXMpXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgZ2V0Q3VycmVudEludGVydmFsID0gKCkgPT4ge1xyXG4gICAgICAgIGlmIChzdG9yaWVzW2N1cnJlbnRJZF0udHlwZSA9PT0gJ3ZpZGVvJykgcmV0dXJuIHZpZGVvRHVyYXRpb25cclxuICAgICAgICBpZiAodHlwZW9mIHN0b3JpZXNbY3VycmVudElkXS5kdXJhdGlvbiA9PT0gJ251bWJlcicpIHJldHVybiBzdG9yaWVzW2N1cnJlbnRJZF0uZHVyYXRpb25cclxuICAgICAgICByZXR1cm4gZGVmYXVsdEludGVydmFsXHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIChcclxuICAgICAgICA8ZGl2IHN0eWxlPXtzdHlsZXMucHJvZ3Jlc3NBcnJ9PlxyXG4gICAgICAgICAgICB7c3Rvcmllcy5tYXAoKF8sIGkpID0+XHJcbiAgICAgICAgICAgICAgICA8UHJvZ3Jlc3NcclxuICAgICAgICAgICAgICAgICAgICBrZXk9e2l9XHJcbiAgICAgICAgICAgICAgICAgICAgY291bnQ9e2NvdW50fVxyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoPXsxIC8gc3Rvcmllcy5sZW5ndGh9XHJcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlPXtpID09PSBjdXJyZW50SWQgPyAxIDogKGkgPCBjdXJyZW50SWQgPyAyIDogMCl9XHJcbiAgICAgICAgICAgICAgICAvPil9XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICApXHJcbn1cclxuXHJcbmNvbnN0IHN0eWxlcyA9IHtcclxuICAgIHByb2dyZXNzQXJyOiB7XHJcbiAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxyXG4gICAgICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyxcclxuICAgICAgICBtYXhXaWR0aDogJzEwMCUnLFxyXG4gICAgICAgIGZsZXhXcmFwOiAncm93JyxcclxuICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcclxuICAgICAgICB3aWR0aDogJzk4JScsXHJcbiAgICAgICAgcGFkZGluZzogNSxcclxuICAgICAgICBwYWRkaW5nVG9wOiA3LFxyXG4gICAgICAgIGFsaWduU2VsZjogJ2NlbnRlcicsXHJcbiAgICAgICAgekluZGV4OiAxMDAxLFxyXG4gICAgICAgIGZpbHRlcjogJ2Ryb3Atc2hhZG93KDAgMXB4IDhweCAjMjIyKSdcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgUmVhY3QsIHsgdXNlQ29udGV4dCB9IGZyb20gJ3JlYWN0J1xyXG5pbXBvcnQgeyBQcm9ncmVzc1Byb3BzLCBQcm9ncmVzc0NvbnRleHQgfSBmcm9tICcuLy4uL2ludGVyZmFjZXMnXHJcbmltcG9ydCBQcm9ncmVzc1dyYXBwZXIgZnJvbSAnLi9Qcm9ncmVzc1dyYXBwZXInXHJcbmltcG9ydCBQcm9ncmVzc0N0eCBmcm9tICcuLy4uL2NvbnRleHQvUHJvZ3Jlc3MnXHJcblxyXG5leHBvcnQgZGVmYXVsdCAocHJvcHM6IFByb2dyZXNzUHJvcHMpID0+IHtcclxuICAgIGNvbnN0IHsgYnVmZmVyQWN0aW9uLCBwYXVzZSB9ID0gdXNlQ29udGV4dDxQcm9ncmVzc0NvbnRleHQ+KFByb2dyZXNzQ3R4KVxyXG5cclxuICAgIGNvbnN0IGdldFByb2dyZXNzU3R5bGUgPSAoeyBhY3RpdmUgfSkgPT4ge1xyXG4gICAgICAgIHN3aXRjaCAoYWN0aXZlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgIHJldHVybiB7IHdpZHRoOiAnMTAwJScgfVxyXG4gICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4geyB0cmFuc2Zvcm06IGBzY2FsZVgoJHtwcm9wcy5jb3VudCAvIDEwMH0pYCB9XHJcbiAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgIHJldHVybiB7IHdpZHRoOiAwIH1cclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHJldHVybiB7IHdpZHRoOiAwIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyB3aWR0aCwgYWN0aXZlIH0gPSBwcm9wc1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgICA8UHJvZ3Jlc3NXcmFwcGVyIHdpZHRoPXt3aWR0aH0gcGF1c2U9e3BhdXNlfSBidWZmZXJBY3Rpb249e2J1ZmZlckFjdGlvbn0+XHJcbiAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IC4uLmdldFByb2dyZXNzU3R5bGUoeyBhY3RpdmUgfSksIC4uLnN0eWxlcy5pbm5lciB9fSAvPlxyXG4gICAgICAgIDwvUHJvZ3Jlc3NXcmFwcGVyPlxyXG4gICAgKVxyXG59XHJcblxyXG5jb25zdCBzdHlsZXM6IGFueSA9IHtcclxuICAgIGlubmVyOiB7XHJcbiAgICAgICAgYmFja2dyb3VuZDogJyNmZmYnLFxyXG4gICAgICAgIGhlaWdodDogJzEwMCUnLFxyXG4gICAgICAgIG1heFdpZHRoOiAnMTAwJScsXHJcbiAgICAgICAgYm9yZGVyUmFkaXVzOiAyLFxyXG4gICAgICAgIHRyYW5zZm9ybU9yaWdpbjogJ2NlbnRlciBsZWZ0JyxcclxuXHJcbiAgICAgICAgV2Via2l0QmFja2ZhY2VWaXNpYmlsaXR5OiAnaGlkZGVuJyxcclxuICAgICAgICBNb3pCYWNrZmFjZVZpc2liaWxpdHk6ICdoaWRkZW4nLFxyXG4gICAgICAgIG1zQmFja2ZhY2VWaXNpYmlsaXR5OiAnaGlkZGVuJyxcclxuICAgICAgICBiYWNrZmFjZVZpc2liaWxpdHk6ICdoaWRkZW4nLFxyXG5cclxuICAgICAgICBXZWJraXRQZXJzcGVjdGl2ZTogMTAwMCxcclxuICAgICAgICBNb3pQZXJzcGVjdGl2ZTogMTAwMCxcclxuICAgICAgICBtc1BlcnNwZWN0aXZlOiAxMDAwLFxyXG4gICAgICAgIHBlcnNwZWN0aXZlOiAxMDAwXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXHJcbmltcG9ydCB7IFByb2dyZXNzV3JhcHBlclByb3BzIH0gZnJvbSAnLi8uLi9pbnRlcmZhY2VzJ1xyXG5cclxuY29uc3QgUHJvZ3Jlc3NXcmFwcGVyID0gKHByb3BzOiBQcm9ncmVzc1dyYXBwZXJQcm9wcykgPT4gKFxyXG4gICAgPGRpdiBzdHlsZT17eyAuLi5zdHlsZXMucHJvZ3Jlc3MsIC4uLmdldFByb2dyZXNzV3JhcHBlclN0eWxlKHByb3BzKSB9fT5cclxuICAgICAgICB7cHJvcHMuY2hpbGRyZW59XHJcbiAgICA8L2Rpdj5cclxuKVxyXG5cclxuY29uc3QgZ2V0UHJvZ3Jlc3NXcmFwcGVyU3R5bGUgPSAoeyB3aWR0aCwgcGF1c2UsIGJ1ZmZlckFjdGlvbiB9KSA9PiAoe1xyXG4gICAgd2lkdGg6IGAke3dpZHRoICogMTAwfSVgLFxyXG4gICAgb3BhY2l0eTogcGF1c2UgJiYgIWJ1ZmZlckFjdGlvbiA/IDAgOiAxXHJcbn0pXHJcblxyXG5jb25zdCBzdHlsZXMgPSB7XHJcbiAgICBwcm9ncmVzczoge1xyXG4gICAgICAgIGhlaWdodDogMixcclxuICAgICAgICBtYXhXaWR0aDogJzEwMCUnLFxyXG4gICAgICAgIGJhY2tncm91bmQ6ICcjNTU1JyxcclxuICAgICAgICBtYXJnaW46IDIsXHJcbiAgICAgICAgYm9yZGVyUmFkaXVzOiAyLFxyXG4gICAgICAgIHRyYW5zaXRpb246ICdvcGFjaXR5IDQwMG1zIGVhc2UtaW4tb3V0J1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBQcm9ncmVzc1dyYXBwZXIiLCJpbXBvcnQgeyBSZW5kZXJlciwgU3RvcnksIFRlc3RlciB9IGZyb20gXCIuLi9pbnRlcmZhY2VzXCI7XHJcblxyXG5leHBvcnQgY29uc3QgZ2V0UmVuZGVyZXIgPSAoc3Rvcnk6IFN0b3J5LCByZW5kZXJlcnM6IHsgcmVuZGVyZXI6IFJlbmRlcmVyLCB0ZXN0ZXI6IFRlc3RlciB9W10pOiBSZW5kZXJlciA9PiB7XHJcbiAgICBsZXQgcHJvYmFibGUgPSByZW5kZXJlcnMubWFwKHIgPT4ge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIC4uLnIsXHJcbiAgICAgICAgICAgIHRlc3RlclJlc3VsdDogci50ZXN0ZXIoc3RvcnkpXHJcbiAgICAgICAgfVxyXG4gICAgfSkuZmlsdGVyKHIgPT4gci50ZXN0ZXJSZXN1bHQuY29uZGl0aW9uKTtcclxuICAgIHByb2JhYmxlLnNvcnQoKGEsIGIpID0+IGIudGVzdGVyUmVzdWx0LnByaW9yaXR5IC0gYS50ZXN0ZXJSZXN1bHQucHJpb3JpdHkpO1xyXG4gICAgcmV0dXJuIHByb2JhYmxlWzBdLnJlbmRlcmVyO1xyXG59IiwiaW1wb3J0IGltYWdlIGZyb20gJy4vSW1hZ2UnO1xyXG5pbXBvcnQgdmlkZW8gZnJvbSAnLi9WaWRlbyc7XHJcbmltcG9ydCBkZWZhdWx0UmVuZGVyZXIgZnJvbSAnLi9EZWZhdWx0JztcclxuaW1wb3J0IGF1dG9wbGF5Q29udGVudCBmcm9tICcuL0F1dG9QbGF5Q29udGVudCc7XHJcblxyXG5leHBvcnQgY29uc3QgcmVuZGVyZXJzID0gW2ltYWdlLCB2aWRlbywgYXV0b3BsYXlDb250ZW50LCBkZWZhdWx0UmVuZGVyZXJdO1xyXG4iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBTcGlubmVyIGZyb20gJy4uL2NvbXBvbmVudHMvU3Bpbm5lcic7XHJcbmltcG9ydCB7IFJlbmRlcmVyLCBUZXN0ZXIgfSBmcm9tICcuLy4uL2ludGVyZmFjZXMnO1xyXG5pbXBvcnQgV2l0aEhlYWRlciBmcm9tICcuL3dyYXBwZXJzL3dpdGhIZWFkZXInO1xyXG5pbXBvcnQgV2l0aFNlZU1vcmUgZnJvbSAnLi93cmFwcGVycy93aXRoU2VlTW9yZSc7XHJcblxyXG5leHBvcnQgY29uc3QgcmVuZGVyZXI6IFJlbmRlcmVyID0gKHsgc3RvcnksIGFjdGlvbiwgaXNQYXVzZWQsIGNvbmZpZyB9KSA9PiB7XHJcbiAgICBjb25zdCBbbG9hZGVkLCBzZXRMb2FkZWRdID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpO1xyXG4gICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0LCBsb2FkZXIsIHN0b3J5U3R5bGVzIH0gPSBjb25maWc7XHJcbiAgICBsZXQgY29tcHV0ZWRTdHlsZXMgPSB7XHJcbiAgICAgICAgLi4uc3R5bGVzLnN0b3J5Q29udGVudCxcclxuICAgICAgICAuLi4oc3RvcnlTdHlsZXMgfHwge30pXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgaW1hZ2VMb2FkZWQgPSAoKSA9PiB7XHJcbiAgICAgICAgc2V0TG9hZGVkKHRydWUpO1xyXG4gICAgICAgIGFjdGlvbigncGxheScpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiA8V2l0aEhlYWRlciBzdG9yeT17c3Rvcnl9IGdsb2JhbEhlYWRlcj17Y29uZmlnLmhlYWRlcn0+XHJcbiAgICAgICAgPFdpdGhTZWVNb3JlIHN0b3J5PXtzdG9yeX0gYWN0aW9uPXthY3Rpb259PlxyXG4gICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgPGltZyBzdHlsZT17Y29tcHV0ZWRTdHlsZXN9IHNyYz17c3RvcnkudXJsfSBvbkxvYWQ9e2ltYWdlTG9hZGVkfSAvPlxyXG4gICAgICAgICAgICAgICAgeyFsb2FkZWQgJiYgKFxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiB3aWR0aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogaGVpZ2h0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBcInJnYmEoMCwgMCwgMCwgMC45KVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgekluZGV4OiA5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogXCIjY2NjXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtsb2FkZXIgfHwgPFNwaW5uZXIgLz59XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L1dpdGhTZWVNb3JlPlxyXG4gICAgPC9XaXRoSGVhZGVyPlxyXG59XHJcblxyXG5jb25zdCBzdHlsZXMgPSB7XHJcbiAgICBzdG9yeToge1xyXG4gICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxyXG4gICAgICAgIHBvc2l0aW9uOiBcInJlbGF0aXZlXCIsXHJcbiAgICAgICAgb3ZlcmZsb3c6IFwiaGlkZGVuXCJcclxuICAgIH0sXHJcbiAgICBzdG9yeUNvbnRlbnQ6IHtcclxuICAgICAgICB3aWR0aDogXCJhdXRvXCIsXHJcbiAgICAgICAgbWF4V2lkdGg6IFwiMTAwJVwiLFxyXG4gICAgICAgIG1heEhlaWdodDogXCIxMDAlXCIsXHJcbiAgICAgICAgbWFyZ2luOiBcImF1dG9cIlxyXG4gICAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IHRlc3RlcjogVGVzdGVyID0gKHN0b3J5KSA9PiB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGNvbmRpdGlvbjogIXN0b3J5LmNvbnRlbnQgJiYgKCFzdG9yeS50eXBlIHx8IHN0b3J5LnR5cGUgPT09ICdpbWFnZScpLFxyXG4gICAgICAgIHByaW9yaXR5OiAyXHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAgIHJlbmRlcmVyLFxyXG4gICAgdGVzdGVyXHJcbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5leHBvcnQgZGVmYXVsdCAoKHtcbiAgc3R5bGVzID0ge30sXG4gIC4uLnByb3BzXG59KSA9PiA8c3ZnIHdpZHRoPVwiNDRcIiBoZWlnaHQ9XCI0NFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiBzdHJva2U9XCIjZmZmXCIgey4uLnByb3BzfT48ZyBmaWxsPVwibm9uZVwiIGZpbGxSdWxlPVwiZXZlbm9kZFwiIHN0cm9rZVdpZHRoPVwiMlwiPjxjaXJjbGUgY3g9XCIyMlwiIGN5PVwiMjJcIiByPVwiMVwiPjxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9XCJyXCIgYmVnaW49XCIwc1wiIGR1cj1cIjEuOHNcIiB2YWx1ZXM9XCIxOyAyMFwiIGNhbGNNb2RlPVwic3BsaW5lXCIga2V5VGltZXM9XCIwOyAxXCIga2V5U3BsaW5lcz1cIjAuMTY1LCAwLjg0LCAwLjQ0LCAxXCIgcmVwZWF0Q291bnQ9XCJpbmRlZmluaXRlXCIgLz48YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPVwic3Ryb2tlLW9wYWNpdHlcIiBiZWdpbj1cIjBzXCIgZHVyPVwiMS44c1wiIHZhbHVlcz1cIjE7IDBcIiBjYWxjTW9kZT1cInNwbGluZVwiIGtleVRpbWVzPVwiMDsgMVwiIGtleVNwbGluZXM9XCIwLjMsIDAuNjEsIDAuMzU1LCAxXCIgcmVwZWF0Q291bnQ9XCJpbmRlZmluaXRlXCIgLz48L2NpcmNsZT48Y2lyY2xlIGN4PVwiMjJcIiBjeT1cIjIyXCIgcj1cIjFcIj48YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPVwiclwiIGJlZ2luPVwiLTAuOXNcIiBkdXI9XCIxLjhzXCIgdmFsdWVzPVwiMTsgMjBcIiBjYWxjTW9kZT1cInNwbGluZVwiIGtleVRpbWVzPVwiMDsgMVwiIGtleVNwbGluZXM9XCIwLjE2NSwgMC44NCwgMC40NCwgMVwiIHJlcGVhdENvdW50PVwiaW5kZWZpbml0ZVwiIC8+PGFuaW1hdGUgYXR0cmlidXRlTmFtZT1cInN0cm9rZS1vcGFjaXR5XCIgYmVnaW49XCItMC45c1wiIGR1cj1cIjEuOHNcIiB2YWx1ZXM9XCIxOyAwXCIgY2FsY01vZGU9XCJzcGxpbmVcIiBrZXlUaW1lcz1cIjA7IDFcIiBrZXlTcGxpbmVzPVwiMC4zLCAwLjYxLCAwLjM1NSwgMVwiIHJlcGVhdENvdW50PVwiaW5kZWZpbml0ZVwiIC8+PC9jaXJjbGU+PC9nPjwvc3ZnPik7IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xyXG5pbXBvcnQgeyBIZWFkZXJQcm9wcyB9IGZyb20gJy4vLi4vaW50ZXJmYWNlcydcclxuXHJcbmNvbnN0IEhlYWRlciA9ICh7IHByb2ZpbGVJbWFnZSwgaGVhZGluZywgc3ViaGVhZGluZyB9OiBIZWFkZXJQcm9wcykgPT5cclxuICAgIDxkaXYgc3R5bGU9e3N0eWxlcy5tYWlufT5cclxuICAgICAgICB7cHJvZmlsZUltYWdlICYmIDxpbWcgc3R5bGU9e3N0eWxlcy5pbWd9IHNyYz17cHJvZmlsZUltYWdlfSAvPn1cclxuICAgICAgICA8c3BhbiBzdHlsZT17c3R5bGVzLnRleHR9PlxyXG4gICAgICAgICAgICA8cCBzdHlsZT17c3R5bGVzLmhlYWRpbmd9PntoZWFkaW5nfTwvcD5cclxuICAgICAgICAgICAgPHAgc3R5bGU9e3N0eWxlcy5zdWJoZWFkaW5nfT57c3ViaGVhZGluZ308L3A+XHJcbiAgICAgICAgPC9zcGFuPlxyXG4gICAgPC9kaXY+XHJcblxyXG5jb25zdCBzdHlsZXMgPSB7XHJcbiAgICBtYWluOiB7XHJcbiAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxyXG4gICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInXHJcbiAgICB9LFxyXG4gICAgaW1nOiB7XHJcbiAgICAgICAgd2lkdGg6IDQwLFxyXG4gICAgICAgIGhlaWdodDogNDAsXHJcbiAgICAgICAgYm9yZGVyUmFkaXVzOiA0MCxcclxuICAgICAgICBtYXJnaW5SaWdodDogMTAsXHJcbiAgICAgICAgZmlsdGVyOiAnZHJvcC1zaGFkb3coMCAwcHggMnB4IHJnYmEoMCwgMCwgMCwgMC41KSknLFxyXG4gICAgICAgIGJvcmRlcjogJzJweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuOCknXHJcbiAgICB9LFxyXG4gICAgdGV4dDoge1xyXG4gICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcclxuICAgICAgICBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJyxcclxuICAgICAgICBmaWx0ZXI6ICdkcm9wLXNoYWRvdygwIDBweCAzcHggcmdiYSgwLCAwLCAwLCAwLjkpKSdcclxuICAgIH0sXHJcbiAgICBoZWFkaW5nOiB7XHJcbiAgICAgICAgZm9udFNpemU6ICcxcmVtJyxcclxuICAgICAgICBjb2xvcjogJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC45KScsXHJcbiAgICAgICAgbWFyZ2luOiAwLFxyXG4gICAgICAgIG1hcmdpbkJvdHRvbTogMlxyXG4gICAgfSxcclxuICAgIHN1YmhlYWRpbmc6IHtcclxuICAgICAgICBmb250U2l6ZTogJzAuNnJlbScsXHJcbiAgICAgICAgY29sb3I6ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuOCknLFxyXG4gICAgICAgIG1hcmdpbjogMFxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBIZWFkZXIiLCJpbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VDb250ZXh0IH0gZnJvbSAncmVhY3QnXHJcbmltcG9ydCBHbG9iYWxDb250ZXh0IGZyb20gJy4vLi4vY29udGV4dC9HbG9iYWwnXHJcbmltcG9ydCB7IEdsb2JhbEN0eCB9IGZyb20gJy4vLi4vaW50ZXJmYWNlcydcclxuaW1wb3J0IHsgU2VlTW9yZVByb3BzIH0gZnJvbSAnLi8uLi9pbnRlcmZhY2VzJ1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2VlTW9yZShwcm9wczogU2VlTW9yZVByb3BzKSB7XHJcbiAgICBjb25zdCBTZWVNb3JlQ29udGVudCA9IHByb3BzLnNlZU1vcmVDb250ZW50O1xyXG4gICAgY29uc3QgQ3VzdG9tQ29sbGFwc2VkID0gcHJvcHMuY3VzdG9tQ29sbGFwc2VkO1xyXG5cclxuICAgIGNvbnN0IHsga2V5Ym9hcmROYXZpZ2F0aW9uIH0gPSB1c2VDb250ZXh0PEdsb2JhbEN0eD4oR2xvYmFsQ29udGV4dCk7XHJcblxyXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgICAgICBjb25zdCBpc0NsaWVudCA9ICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuZG9jdW1lbnQpO1xyXG4gICAgICAgIGlmIChpc0NsaWVudCAmJiAodHlwZW9mIGtleWJvYXJkTmF2aWdhdGlvbiA9PT0gJ2Jvb2xlYW4nICYmIGtleWJvYXJkTmF2aWdhdGlvbikpIHtcclxuICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgaGFuZGxlS2V5RG93bik7XHJcbiAgICAgICAgICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBoYW5kbGVLZXlEb3duKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0sIFtrZXlib2FyZE5hdmlnYXRpb25dKVxyXG5cclxuICAgIGNvbnN0IGhhbmRsZUtleURvd24gPSAoZTogS2V5Ym9hcmRFdmVudCkgPT4ge1xyXG4gICAgICAgIGlmIChlLmtleSA9PT0gJ0Fycm93VXAnKSB7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKVxyXG4gICAgICAgICAgICBwcm9wcy50b2dnbGVNb3JlKHRydWUpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGUua2V5ID09PSAnQXJyb3dEb3duJyB8fCBlLmtleSA9PT0gJ0VzY2FwZScpIHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXHJcbiAgICAgICAgICAgIHByb3BzLnRvZ2dsZU1vcmUoZmFsc2UpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiAoXHJcbiAgICAgICAgcHJvcHMuc2hvd0NvbnRlbnRcclxuICAgICAgICAgICAgPyA8ZGl2IHN0eWxlPXtzdHlsZXMuc2VlTW9yZUV4cGFuZGVkfT5cclxuICAgICAgICAgICAgICAgIDxTZWVNb3JlQ29udGVudCBjbG9zZT17KCkgPT4gcHJvcHMudG9nZ2xlTW9yZShmYWxzZSl9IC8+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA6XHJcbiAgICAgICAgICAgIChDdXN0b21Db2xsYXBzZWQgPyA8Q3VzdG9tQ29sbGFwc2VkIGFjdGlvbj17cHJvcHMuYWN0aW9ufSB0b2dnbGVNb3JlPXtwcm9wcy50b2dnbGVNb3JlfSAvPiA6IDxkaXYgc3R5bGU9e3N0eWxlcy5zZWVNb3JlfSBvbkNsaWNrPXsoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgICAgIHByb3BzLnRvZ2dsZU1vcmUodHJ1ZSlcclxuICAgICAgICAgICAgfX0gPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3N0eWxlcy5zZWVNb3JlSWNvbn0+4oyDPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3N0eWxlcy5zZWVNb3JlVGV4dH0+U2VlIG1vcmU8L3NwYW4+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICApXHJcbiAgICApXHJcbn1cclxuXHJcbmNvbnN0IHN0eWxlczogYW55ID0ge1xyXG4gICAgc2VlTW9yZToge1xyXG4gICAgICAgIGhlaWdodDogXCIxMHZoXCIsXHJcbiAgICAgICAgYmFja2dyb3VuZDogXCJsaW5lYXItZ3JhZGllbnQocmdiYSgwLCAwLCAwLCAwKSwgcmdiYSgwLCAwLCAwLCAwLjIpKVwiLFxyXG4gICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxyXG4gICAgICAgIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsXHJcbiAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxyXG4gICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXHJcbiAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiZmxleC1lbmRcIixcclxuICAgICAgICBib3R0b206IDBcclxuICAgIH0sXHJcbiAgICBzZWVNb3JlRXhwYW5kZWQ6IHtcclxuICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcclxuICAgICAgICB0b3A6IDAsXHJcbiAgICAgICAgbGVmdDogMCxcclxuICAgICAgICB3aWR0aDogJzEwMCUnLFxyXG4gICAgICAgIGhlaWdodDogJzEwMCUnLFxyXG4gICAgICAgIGJveFNpemluZzogJ2JvcmRlci1ib3gnLFxyXG4gICAgICAgIHpJbmRleDogOTk5OTlcclxuICAgIH0sXHJcbiAgICBzZWVNb3JlVGV4dDoge1xyXG4gICAgICAgIGNvbG9yOiBcIndoaXRlXCIsXHJcbiAgICAgICAgdGV4dEFsaWduOiBcImNlbnRlclwiLFxyXG4gICAgICAgIGxldHRlclNwYWNpbmc6IFwiMC4xZW1cIixcclxuICAgICAgICBtYXJnaW5Cb3R0b206IFwiMi4ydmhcIixcclxuICAgICAgICB0ZXh0VHJhbnNmb3JtOiBcImNhcGl0YWxpemVcIixcclxuICAgICAgICBvcGFjaXR5OiBcIjFcIixcclxuICAgICAgICBmb250U2l6ZTogXCIwLjhlbVwiLFxyXG4gICAgICAgIHRyYW5zaXRpb246IFwib3BhY2l0eSAzMDBtcyBlYXNlLWluLW91dFwiXHJcbiAgICB9LFxyXG4gICAgc2VlTW9yZUljb246IHtcclxuICAgICAgICBjb2xvcjogXCJ3aGl0ZVwiLFxyXG4gICAgICAgIHRleHRBbGlnbjogXCJjZW50ZXJcIixcclxuICAgICAgICBsZXR0ZXJTcGFjaW5nOiBcIjAuMmVtXCIsXHJcbiAgICAgICAgbWFyZ2luQm90dG9tOiBcIjAuNHZoXCIsXHJcbiAgICAgICAgb3BhY2l0eTogXCIxXCIsXHJcbiAgICAgICAgZmlsdGVyOiBcImRyb3Atc2hhZG93KDAgMCA1cHggYmxhY2spXCIsXHJcbiAgICAgICAgdGV4dFRyYW5zZm9ybTogXCJjYXBpdGFsaXplXCIsXHJcbiAgICAgICAgdHJhbnNpdGlvbjogXCJvcGFjaXR5IDMwMG1zIGVhc2UtaW4tb3V0XCJcclxuICAgIH0sXHJcbiAgICBzZWVNb3JlQ2xvc2U6IHtcclxuICAgICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxyXG4gICAgICAgIGZpbHRlcjogXCJkcm9wLXNoYWRvdygwIDNweCAycHggI2NjYylcIixcclxuICAgICAgICByaWdodDogXCIwLjVyZW1cIixcclxuICAgICAgICB0b3A6IFwiMC41cmVtXCIsXHJcbiAgICAgICAgZm9udFNpemU6IFwiMS41cmVtXCIsXHJcbiAgICAgICAgb3BhY2l0eTogXCIwLjdcIixcclxuICAgICAgICBwYWRkaW5nOiBcIjFyZW1cIlxyXG4gICAgfVxyXG59IiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgU3Bpbm5lciBmcm9tICcuLi9jb21wb25lbnRzL1NwaW5uZXInO1xyXG5pbXBvcnQgeyBSZW5kZXJlciwgVGVzdGVyIH0gZnJvbSAnLi8uLi9pbnRlcmZhY2VzJztcclxuaW1wb3J0IFdpdGhIZWFkZXIgZnJvbSAnLi93cmFwcGVycy93aXRoSGVhZGVyJztcclxuaW1wb3J0IFdpdGhTZWVNb3JlIGZyb20gJy4vd3JhcHBlcnMvd2l0aFNlZU1vcmUnO1xyXG5cclxuZXhwb3J0IGNvbnN0IHJlbmRlcmVyOiBSZW5kZXJlciA9ICh7IHN0b3J5LCBhY3Rpb24sIGlzUGF1c2VkLCBjb25maWcsIG1lc3NhZ2VIYW5kbGVyIH0pID0+IHtcclxuICAgIGNvbnN0IFtsb2FkZWQsIHNldExvYWRlZF0gPSBSZWFjdC51c2VTdGF0ZShmYWxzZSk7XHJcbiAgICBjb25zdCBbbXV0ZWQsIHNldE11dGVkXSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKTtcclxuICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCwgbG9hZGVyLCBzdG9yeVN0eWxlcyB9ID0gY29uZmlnO1xyXG5cclxuICAgIGxldCBjb21wdXRlZFN0eWxlcyA9IHtcclxuICAgICAgICAuLi5zdHlsZXMuc3RvcnlDb250ZW50LFxyXG4gICAgICAgIC4uLihzdG9yeVN0eWxlcyB8fCB7fSlcclxuICAgIH1cclxuXHJcbiAgICBsZXQgdmlkID0gUmVhY3QudXNlUmVmPEhUTUxWaWRlb0VsZW1lbnQ+KG51bGwpO1xyXG5cclxuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgaWYgKHZpZC5jdXJyZW50KSB7XHJcbiAgICAgICAgICAgIGlmIChpc1BhdXNlZCkge1xyXG4gICAgICAgICAgICAgICAgdmlkLmN1cnJlbnQucGF1c2UoKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZpZC5jdXJyZW50LnBsYXkoKS5jYXRjaCgoKSA9PiB7IH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSwgW2lzUGF1c2VkXSk7XHJcblxyXG4gICAgY29uc3Qgb25XYWl0aW5nID0gKCkgPT4ge1xyXG4gICAgICAgIGFjdGlvbihcInBhdXNlXCIsIHRydWUpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IG9uUGxheWluZyA9ICgpID0+IHtcclxuICAgICAgICBhY3Rpb24oXCJwbGF5XCIsIHRydWUpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHZpZGVvTG9hZGVkID0gKCkgPT4ge1xyXG4gICAgICAgIG1lc3NhZ2VIYW5kbGVyKCdVUERBVEVfVklERU9fRFVSQVRJT04nLCB7IGR1cmF0aW9uOiB2aWQuY3VycmVudC5kdXJhdGlvbiB9KTtcclxuICAgICAgICBzZXRMb2FkZWQodHJ1ZSk7XHJcbiAgICAgICAgdmlkLmN1cnJlbnQucGxheSgpLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICBhY3Rpb24oJ3BsYXknKTtcclxuICAgICAgICB9KS5jYXRjaCgoKSA9PiB7XHJcbiAgICAgICAgICAgIHNldE11dGVkKHRydWUpO1xyXG4gICAgICAgICAgICB2aWQuY3VycmVudC5wbGF5KCkuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBhY3Rpb24oJ3BsYXknKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gPFdpdGhIZWFkZXIgc3Rvcnk9e3N0b3J5fSBnbG9iYWxIZWFkZXI9e2NvbmZpZy5oZWFkZXJ9PlxyXG4gICAgICAgIDxXaXRoU2VlTW9yZSBzdG9yeT17c3Rvcnl9IGFjdGlvbj17YWN0aW9ufT5cclxuICAgICAgICAgICAgPGRpdiBzdHlsZT17c3R5bGVzLnZpZGVvQ29udGFpbmVyfT5cclxuICAgICAgICAgICAgICAgIDx2aWRlb1xyXG4gICAgICAgICAgICAgICAgICAgIHJlZj17dmlkfVxyXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXtjb21wdXRlZFN0eWxlc31cclxuICAgICAgICAgICAgICAgICAgICBzcmM9e3N0b3J5LnVybH1cclxuICAgICAgICAgICAgICAgICAgICBjb250cm9scz17ZmFsc2V9XHJcbiAgICAgICAgICAgICAgICAgICAgb25Mb2FkZWREYXRhPXt2aWRlb0xvYWRlZH1cclxuICAgICAgICAgICAgICAgICAgICBwbGF5c0lubGluZVxyXG4gICAgICAgICAgICAgICAgICAgIG9uV2FpdGluZz17b25XYWl0aW5nfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uUGxheWluZz17b25QbGF5aW5nfVxyXG4gICAgICAgICAgICAgICAgICAgIG11dGVkPXttdXRlZH1cclxuICAgICAgICAgICAgICAgICAgICBhdXRvUGxheVxyXG4gICAgICAgICAgICAgICAgICAgIHdlYmtpdC1wbGF5c2lubGluZT1cInRydWVcIlxyXG4gICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgIHshbG9hZGVkICYmIChcclxuICAgICAgICAgICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogd2lkdGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IGhlaWdodCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogXCJyZ2JhKDAsIDAsIDAsIDAuOSlcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHpJbmRleDogOSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IFwiI2NjY1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7bG9hZGVyIHx8IDxTcGlubmVyIC8+fVxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9XaXRoU2VlTW9yZT5cclxuICAgIDwvV2l0aEhlYWRlcj5cclxufVxyXG5cclxuY29uc3Qgc3R5bGVzID0ge1xyXG4gICAgc3RvcnlDb250ZW50OiB7XHJcbiAgICAgICAgd2lkdGg6IFwiYXV0b1wiLFxyXG4gICAgICAgIG1heFdpZHRoOiBcIjEwMCVcIixcclxuICAgICAgICBtYXhIZWlnaHQ6IFwiMTAwJVwiLFxyXG4gICAgICAgIG1hcmdpbjogXCJhdXRvXCJcclxuICAgIH0sXHJcbiAgICB2aWRlb0NvbnRhaW5lcjoge1xyXG4gICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcclxuICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcclxuICAgICAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcidcclxuICAgIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCB0ZXN0ZXI6IFRlc3RlciA9IChzdG9yeSkgPT4ge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBjb25kaXRpb246IHN0b3J5LnR5cGUgPT09ICd2aWRlbycsXHJcbiAgICAgICAgcHJpb3JpdHk6IDJcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gICAgcmVuZGVyZXIsXHJcbiAgICB0ZXN0ZXJcclxufVxyXG4iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IFJlbmRlcmVyLCBUZXN0ZXIgfSBmcm9tICcuLy4uL2ludGVyZmFjZXMnO1xyXG5cclxuZXhwb3J0IGNvbnN0IHJlbmRlcmVyOiBSZW5kZXJlciA9ICh7IHN0b3J5LCBhY3Rpb24gfSkgPT4ge1xyXG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcclxuICAgICAgICBhY3Rpb24oJ3BsYXknKTtcclxuICAgIH0sIFtzdG9yeV0pXHJcblxyXG4gICAgcmV0dXJuIDxkaXYgc3R5bGU9e3N0eWxlcy5zdG9yeUNvbnRlbnR9PlxyXG4gICAgICAgIDxwIHN0eWxlPXtzdHlsZXMudGV4dH0+VGhpcyBzdG9yeSBjb3VsZCBub3QgYmUgbG9hZGVkLjwvcD5cclxuICAgIDwvZGl2PlxyXG59XHJcblxyXG5jb25zdCBzdHlsZXMgPSB7XHJcbiAgICBzdG9yeUNvbnRlbnQ6IHtcclxuICAgICAgICB3aWR0aDogXCIxMDAlXCIsXHJcbiAgICAgICAgbWF4SGVpZ2h0OiBcIjEwMCVcIixcclxuICAgICAgICBtYXJnaW46IFwiYXV0b1wiXHJcbiAgICB9LFxyXG4gICAgdGV4dDoge1xyXG4gICAgICAgIHRleHRBbGlnbjogJ2NlbnRlcicsXHJcbiAgICAgICAgY29sb3I6ICd3aGl0ZScsXHJcbiAgICAgICAgd2lkdGg6ICc5MCUnLFxyXG4gICAgICAgIG1hcmdpbjogJ2F1dG8nXHJcbiAgICB9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgdGVzdGVyOiBUZXN0ZXIgPSAoKSA9PiB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGNvbmRpdGlvbjogdHJ1ZSxcclxuICAgICAgICBwcmlvcml0eTogMVxyXG4gICAgfTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gICAgcmVuZGVyZXIsXHJcbiAgICB0ZXN0ZXJcclxufSIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgUmVuZGVyZXIsIFRlc3RlciB9IGZyb20gJy4vLi4vaW50ZXJmYWNlcyc7XHJcblxyXG5leHBvcnQgY29uc3QgcmVuZGVyZXI6IFJlbmRlcmVyID0gKHByb3BzKSA9PiB7XHJcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgIHByb3BzLmFjdGlvbigncGxheScpO1xyXG4gICAgfSwgW3Byb3BzLnN0b3J5XSlcclxuICAgIGNvbnN0IENvbnRlbnQgPSBwcm9wcy5zdG9yeS5vcmlnaW5hbENvbnRlbnQ7XHJcbiAgICByZXR1cm4gPENvbnRlbnQgey4uLnByb3BzfSAvPlxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgdGVzdGVyOiBUZXN0ZXIgPSAoc3RvcnkpID0+IHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgY29uZGl0aW9uOiAhIXN0b3J5LmNvbnRlbnQsXHJcbiAgICAgICAgcHJpb3JpdHk6IDJcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gICAgcmVuZGVyZXIsXHJcbiAgICB0ZXN0ZXJcclxufSJdLCJzb3VyY2VSb290IjoiIn0=